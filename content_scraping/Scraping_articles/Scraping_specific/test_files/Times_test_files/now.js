(()=>{var e,t,n,r,o={30545:(e,t,n)=>{var r={"./contentpass/de.json":[76435,6435],"./contentpass/en.json":[13175,3175],"./contentpass/es.json":[87921,7921],"./contentpass/fr.json":[33826,3826],"./contentpass/it.json":[58377,8377],"./contentpass/pl.json":[94521,4521],"./contentpass/pt.json":[52445,2445]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((()=>n.t(o,19)))}o.keys=()=>Object.keys(r),o.id=30545,e.exports=o},87857:(e,t,n)=>{var r={"./aubi/de.json":[13581,3581],"./bzbe/de.json":[37201,7201],"./cobi/de.json":[81465,6492],"./contentpass/de.json":[8430,8430],"./contentpass/en.json":[85096,5096],"./contentpass/es.json":[8401,8401],"./contentpass/fr.json":[81476,3021],"./contentpass/it.json":[45654,5654],"./contentpass/pl.json":[78889,8889],"./contentpass/pt.json":[10101,101],"./desired/de.json":[98786,8786],"./familie/de.json":[87305,7305],"./fitb/de.json":[69925,9925],"./giga/de.json":[8870,8870],"./kino/de.json":[63824,3824],"./myhb/de.json":[95082,5082],"./petb/de.json":[59874,9874],"./spielaffe/de.json":[91063,1063],"./spieletipps/de.json":[44324,4324],"./styb/de.json":[22608,2608],"./sun/en.json":[76075,6075],"./t-online/de.json":[27843,7843],"./tecb/de.json":[50309,309],"./times/en.json":[98809,8809],"./trab/de.json":[60341,341]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((()=>n.t(o,19)))}o.keys=()=>Object.keys(r),o.id=87857,e.exports=o},80602:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(t.CmpStatus||(t.CmpStatus={}))},96054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(t.DisplayStatus||(t.DisplayStatus={}))},32254:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(t.EventStatus||(t.EventStatus={}))},47960:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(80602)),r(n(96054)),r(n(32254))},6435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(e,t)=>{throw new Error(`Unsupported project ${e}`)}},28451:(e,t,n)=>{"use strict";async function r(){const{default:e}=await n.e(3797).then(n.bind(n,9432));return e}n.d(t,{Z:()=>r})},71938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={project:"times",apiUrl:"https://npa.thetimes.com",websiteApiUrl:"https://npa.thetimes.com/auth/oidc",cdnUrl:"https://npa.thetimes.com",websiteUiUrl:"https://npa.thetimes.com",myUiUrl:"https://npa.thetimes.com",globalName:"CPObject",detectUrl:"https://magiccandles.eu/service/adv/popunder",defaultPropertyId:"725a4e2b-f53d-4e52-bd5e-4f852e53d486",defaultPlanId:"b4079a44-ae03-4b41-9904-7a6085801c47",secondaryPlanId:"c3898423-f110-4c9a-93f6-eaf20cd06578",contentpassVersion:"20240828075038-95c3cfbe8d",isWhitelabel:!0,projectDomain:"npa.thetimes.com",additionalContinueUrlProtocols:[]}},91205:(e,t,n)=>{"use strict";async function r(e){const{default:t}=await n.e(9303).then(n.bind(n,16050));return new t(e)}n.d(t,{Z:()=>r})},30746:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(81567),o=n(66346),i=n(60306),a=n(83308),c=n(69483);async function s(e){let{global:t,...n}=e;const{eventAction:s,eventCategory:u,eventLabel:l,hasCoupon:f,loadTime:d,nonInteraction:p,offer:g,samplingRate:m,theme:w,userLanguage:h,viewTime:v}=n,{propertyId:y,oidcPropertyId:b,defaultPropertyId:C,instanceId:P,isAmp:S}=t;let E=y;if(!E){const e=b||C;E=e.substr(0,e.indexOf("-"))}const O=(0,o.Z)(window),T=await(0,i.c)(window),Z=(0,a.Z)(window),I=(0,c.$o)(r.iP),A=Math.max(document?.documentElement?.clientWidth||0,window?.innerWidth||0),N=Math.max(document?.documentElement?.clientHeight||0,window?.innerHeight||0);return{cpabid:P||"",cppid:E,cpamp:S,cpbf:O,cpbotr:T,ec:u,ea:s,el:l,ni:p,ul:h,cpts:Date.now(),cpdf:document?.hasFocus()||!1,...w&&{cpt:w},...void 0!==f&&{cphc:f},...d&&{cplt:d},...v&&{cpvt:v},...m&&{cpsr:m},...g&&{offer:g},...Z&&{cpdr:Z},...I&&{cpur:I},...A&&N&&{vp:`${A}x${N}`}}}},60306:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});const r=e=>e?1:0,o=e=>e&&/headless/i.test(e.toLowerCase())?2:0,i=e=>e&&/headless/i.test(e.toLowerCase())?4:0,a=e=>{const t=[],{navigator:n}=e||{};if(void 0===n)return 0;const r=n.languages,o=n.language||n.userLanguage||n.browserLanguage||n.systemLanguage;if(void 0!==o&&t.push(o),Array.isArray(r))t.push(...r);else if("string"==typeof r){const e=r;e&&t.push(...e.split(","))}return 0===t.length?8:0},c=e=>{const{outerHeight:t}=e||{},{outerWidth:n}=e||{};return"function"!=typeof e?.document?.hasFocus?0:e.document.hasFocus()&&0===t&&0===n?16:0};async function s(e){const t=e?.navigator?.permissions;if(!t)return 0;const n=e?.Notification?.permission;let r;try{r=await Promise.race([t.query({name:"notifications"}),new Promise((e=>{setTimeout((()=>e(null)),200)}))])}catch(e){r=null}return"denied"===n&&"prompt"===r?.state?32:0}const u=async e=>{let t=0;const n=(e=>{const{navigator:t}=e;return[{id:"webdriver",testFunction:r,argument:t?.webdriver},{id:"user-agent",testFunction:o,argument:t?.userAgent},{id:"app-version",testFunction:i,argument:t?.appVersion},{id:"languages",testFunction:a,argument:e},{id:"outer",testFunction:c,argument:e},{id:"permission",testFunction:s,argument:e}]})(e);for(const e of n){const{testFunction:n,argument:r}=e;try{t+=await n(r)}catch(e){}}return t}},83308:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(67526),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);var r=n(99344),o=n(11567);const i=new Map,a="none",c=[["gd","hostname","matches",/google\.android\.googlequicksearchbox/],["gn","hostname","equals","news.google.com"],["seo","tpd","matches",/google(\.com?)?\.[a-z]{2,3}$/],["seo","tpd","equals","duckduckgo.com"],["seo","tpd","equals","bing.com"],["seo","hostname","equals","search.yahoo.com"],["seo","hostname","equals","www.ecosia.org"],["seo","hostname","equals","search.brave.com"],["social","hostname","equals","l.facebook.com"],["social","hostname","equals","l.instagram.com"],["social","tpd","equals","t.co"],["social","tpd","equals","youtube.com"],["social","tpd","equals","vevo.com"],["social","tpd","equals","linkin.bio"],["social","tpd","equals","pinterest.de"],["social","tpd","equals","reddit.com"],["social","tpd","equals","tiktok.com"],["social","tpd","equals","linktr.ee"],["social","tpd","equals","lnk.to"],["social","tpd","equals","komi.io"],["social","tpd","equals","t.me"],["ads","tpd","equals","googlesyndication.com"],["ads","hostname","equals","s0.2mdn.net"],["ads","hostname","equals","pdt.tradedoubler.com"],["ads","hostname","equals","paid.outbrain.com"],["utm","queryNames","contain","utm_term"],["utm","queryNames","contain","utm_source"],["utm","queryNames","contain","utm_medium"],["utm","queryNames","contain","utm_campaign"],["utm","queryNames","contain","utm_content"]];function s(e,t){let n="";try{({hostname:n}=new URL(e.document.referrer))}catch(e){}const i=n?(0,r.Z)(n):"",a=e.location.search?new URLSearchParams(e.location.search):void 0;if(i===(0,r.Z)(e.location.hostname))return"publisher";const c=t.find((e=>{const t=function(e,t,n,r){switch(e){case"hostname":return t;case"tpd":return n;case"queryNames":return r;default:return void o.Z.error("Received unsupported url part",e)}}(e[1],n,i,a);return t&&function(e,t){switch(e[2]){case"equals":return e[3]===t;case"matches":return t.match(e[3]);case"contain":return t.has(e[3]);default:return o.Z.error("Received unsupported operation in evaluateRuleOperationForReferrer",e),!1}}(e,t)}));return c?c[0]:"other"}function u(e){if(!e?.document?.referrer&&!e?.location)return o.Z.error("No referrer and location found"),a;if(function(e){const t=e.location.href.split("#")[0];return e.document.referrer===t}(e))return"reload";const{referrer:t}=e.document;if(i.has(t))return i.get(t);const n=s(e,c);return t&&i.set(t,n),n}},35681:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});let r=function(e){return e.ACCEPT_ALL="acceptAll",e.DENY_ALL="denyAll",e.GET_CUSTOM_PURPOSES="getCustomPurposes",e.GET_NUMBER_OF_VENDORS="getNumberOfVendors",e.GET_REQUIRED_PURPOSES="getRequiredPurposes",e.HAS_ALL_CONSENTS="hasAllConsents",e.HIDE_CMP_LAYER="hideCmpLayer",e.ON_CONTENTPASS_USER="onContentpassUser",e.REGISTER_FOR_CONSENT_CHANGES="registerForConsentChanges",e.RENDER="render",e.RESURFACE_WALL="resurfaceWall",e.SHOW_CMP_LAYER="showCmpLayer",e.WAIT_FOR_INIT="waitForInit",e}({})},39389:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h,a$:()=>E,h7:()=>O,d:()=>C,Kr:()=>P,p$:()=>b,Au:()=>N,X8:()=>T,fw:()=>v,S7:()=>A,oQ:()=>S,SM:()=>I,DP:()=>Z});var r=n(11567),o=n(35681),i=n(22029),a=n(1882),c=n(72955),s=n(14760);const u=5e3,l=50;function f(e){return"function"==typeof e.__cmp&&e.cmp_config_data?i.ZP.CONSENTMANAGER:e._sp_?.config?i.ZP.SOURCEPOINT:e.UC_UI?i.ZP.USERCENTRICS:null}let d,p=null;function g(e){return p||(p=function(e){r.Z.info("[CP] Trying to auto-detect the CMP");let t=0;const{window:n}=e;return new Promise(((e,o)=>{!function i(){if(t>=u)o(new Error(`Could not detect cmp in ${u} miliseconds`));else if(t+=l,"function"==typeof n.__tcfapi)n.__tcfapi("ping",2,(async(t,o)=>{if(!o){const t=f(n);return void(t?(r.Z.info("[CP] CMP detected via window fall back (TCF API failed)",t),e(t)):setTimeout(i,l))}if(!t.cmpId)return void setTimeout(i,l);const a=(0,s.bU)(t?.cmpId);r.Z.info("[CP] Detected CMP",t,a),e(a)}));else{const t=f(n);t?(r.Z.info("[CP] CMP detected via window fall back (no TCF API)",t),e(t)):setTimeout(i,l)}}()}))}(e)),p}async function m(e,t){const o=t?.funnelConfig?.cmp,s=t?.funnelConfig?.enabledProducts||[];if(!(o||Array.isArray(s)&&0!==s.length))return;const u=await async function(e,t,n){if(t.includes("autoDetectCmp"))try{const t=await g(e);if(t)return t}catch(t){r.Z.error("[CP] determineCmp failed",t),e.errorHandler?.report(t)}return n||(t.includes("consentmanagerCmp")?i.ZP.CONSENTMANAGER:t.includes("didomiCmp")?i.ZP.DIDOMI:t.includes("liverampCmp")?i.ZP.LIVERAMP:t.includes("onetrustCmp")?i.ZP.ONETRUST:t.includes("sourcepointCmp")?i.ZP.SOURCEPOINT:t.includes("usercentricsCmp")?i.ZP.USERCENTRICS:t.includes("ccm19Cmp")?i.ZP.CCM19:void r.Z.warn("[CP] Unknown CMP configuration",t,n))}(e,s,o);if(!u)return;(0,a.Z)(e);let l=null;if(u===i.ZP.CONSENTMANAGER?((0,c.Z)(e),({default:l}=await n.e(1977).then(n.bind(n,88295)))):u===i.ZP.DIDOMI?({default:l}=await n.e(5166).then(n.bind(n,52898))):u===i.ZP.LIVERAMP?({default:l}=await n.e(6779).then(n.bind(n,38848))):u===i.ZP.ONETRUST?({default:l}=await n.e(2309).then(n.bind(n,80668))):u===i.ZP.SOURCEPOINT?({default:l}=await n.e(4673).then(n.bind(n,30121))):u===i.ZP.USERCENTRICS?({default:l}=await n.e(4216).then(n.bind(n,29451))):u===i.ZP.CCM19?({default:l}=await n.e(815).then(n.bind(n,16802))):u===i.ZP.SNIGEL&&({default:l}=await n.e(587).then(n.bind(n,18266))),l)return{...l,loadedCmpName:u};r.Z.warn("[CP] Unknown CMP to load",u)}async function w(e,t){return d||(d=m(e,t)),d}async function h(e,t,n){const o=await w(e,t);if(!o){const e=t?.funnelConfig?.cmp,n=t?.funnelConfig?.enabledProducts;return()=>r.Z.warn("[CP] CMP not found for enabled products and cmp",n,e)}return o[n]?o[n]:()=>r.Z.warn("[CP] Usage of not implemented action",n)}async function v(e,t){const n=await w(e,t);return n?n.loadedCmpName:null}async function y(e,t){const n=await h(e,t,o.F.WAIT_FOR_INIT);return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n(e,...r)}}async function b(e,t){const n=await y(e,t),r=await h(e,t,o.F.GET_REQUIRED_PURPOSES);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function C(e,t){const n=await y(e,t),r=await h(e,t,o.F.GET_CUSTOM_PURPOSES);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function P(e,t){const n=await y(e,t),r=await h(e,t,o.F.GET_NUMBER_OF_VENDORS);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function S(e,t){const n=await y(e,t),r=await h(e,t,o.F.REGISTER_FOR_CONSENT_CHANGES);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function E(e,t){const n=await y(e,t),r=await h(e,t,o.F.ACCEPT_ALL);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function O(e,t){const n=await y(e,t),r=await h(e,t,o.F.DENY_ALL);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function T(e,t){const n=await y(e,t),r=await h(e,t,o.F.HIDE_CMP_LAYER);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function Z(e,t){const n=await y(e,t),r=await h(e,t,o.F.SHOW_CMP_LAYER);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function I(e,t){const n=await y(e,t),r=await h(e,t,o.F.RESURFACE_WALL);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function A(e,t){const n=await y(e,t),r=await h(e,t,o.F.ON_CONTENTPASS_USER);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}async function N(e,t){const n=await y(e,t),r=await h(e,t,o.F.HAS_ALL_CONSENTS);return async function(){await n();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r(e,...o)}}},99626:(e,t,n)=>{"use strict";n.d(t,{d:()=>i,n:()=>a});var r=n(52034),o=n.n(r);const i=(e,t,n)=>o().set(e,t,{sameSite:"Lax",...n}),a=(e,t)=>o().remove(e,{sameSite:"Lax",...t})},77800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(17467);function o(e,t){const n=new Image;return n.referrerPolicy="strict-origin-when-cross-origin",n.src=`${e}?${(0,r.Z)(t)}`,new Promise(((e,t)=>{n.complete?e():(n.onload=()=>e(),n.onerror=t)}))}},17467:(e,t,n)=>{"use strict";function r(e){const t={...e};return Object.keys(t).forEach((e=>{void 0!==t[e]&&null!==t[e]||delete t[e]})),new URLSearchParams(t)}n.d(t,{Z:()=>r})},37508:(e,t,n)=>{"use strict";n.d(t,{C7:()=>m,Gh:()=>w,PZ:()=>v,nt:()=>h,zq:()=>g});var r=n(81567);const o="cpLogging",i="cpAuthenticated",a="cpTheme",c="cpIframe",s="cpAction",u=[o],l=[i,a,c];function f(e){const t=(e?.location?.hash||"").substring(1);return t.split("&").map((e=>e.split("="))).map((e=>{return{key:(t=e[0],t.replace(/^cp(.)/g,((e,t)=>`cp${t.toUpperCase()}`))),value:e[1]};var t}))}let d=!1;function p(e,t){const n=f(e);return function(e,t){d||(d=!0,t.filter((e=>{let{key:t}=e;return u.includes(t)})).forEach((t=>{let{key:n,value:r}=t;r?e.localStorage.setItem(`__${n}`,r):e.localStorage.removeItem(`__${n}`)})))}(e,n),u.includes(t)?function(e,t){return t===o&&function(e,t){try{return e.localStorage.getItem(t)}catch(e){return}}(e,r.pA)}(e,t):!!l.includes(t)&&n.find((e=>e.key===t))?.value}function g(e){return"true"===p(e,i)}function m(e){return"true"===p(e,o)}function w(e){return p(e,a)}function h(e){return"true"===p(e,c)}function v(e){const t=f(e).find((e=>{let{key:t}=e;return t===s}));if(!t)return;const{value:n}=t;return e.location=e.location.toString().replace(new RegExp(`&${s}=${n}`,"gi"),"").replace(new RegExp(`${s}=${n}&`,"gi"),"").replace(new RegExp(`${s}=${n}`,"gi"),""),n}},15563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(71938),o=n(91205),i=n(37744),a=n(11567),c=n(83966);const s=async()=>{try{const e=(0,i.Z)(window,a.Z),t=await(0,o.Z)({url:`${r.Z.detectUrl}/ads.js?foo=bar`,global:e}),{isAdblockEnabled:n}=await t.start();return n}catch(e){return a.Z.warn("[CP] Detecting adblock failed",e),null}};function u(e){let{appName:t,apiUrl:n,contentpassVersion:r,window:o}=e;return{report:async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n)return;if(function(e){return e?.message?.includes("Failed to fetch")}(e))return;const{navigator:{userAgent:u,language:l,cookieEnabled:f},location:d}=o,p={service:i||t,timestamp:Date.now(),error:e.toString(),stacktrace:e.stack,context:{location:d?.toString(),userAgent:u,language:l,cookieEnabled:f,version:r,isAdblockEnabled:await s()}};navigator.connection&&(p.context={...p.context,downloadBandwidth:navigator.connection.downlink,roundTripTime:navigator.connection.rtt,effectiveType:navigator.connection.effectiveType});try{await(0,c.Z)(`${n}/error-reporting`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})}catch(e){a.Z.warn("[CP] Failed sending error report",e)}}}}},37605:(e,t,n)=>{"use strict";async function r(){const{default:e}=await n.e(1410).then(n.bind(n,97560));return e}n.d(t,{Z:()=>r})},37744:(e,t,n)=>{"use strict";function r(e,t){const n=e.CPObject;if(!n)return t&&t.warn&&t.warn("[CP] window[CPObject] is not set."),!1;const r=e[n];return r||(t&&t.warn&&t.warn(`[CP] Global namespace window[${n}] is not available.`),!1)}n.d(t,{Z:()=>r})},99344:(e,t,n)=>{"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.match(/(\.com?)?\.[a-z]{2,63}$/);if(!t)return;return`${e.slice(0,t.index).split(".").pop()}${t[0]}`}n.d(t,{Z:()=>r})},69483:(e,t,n)=>{"use strict";n.d(t,{$o:()=>o,dZ:()=>a,qQ:()=>i});var r=n(11567);function o(e){try{return window.localStorage.getItem(e)}catch(e){return void r.Z.error("[localStorage.get] Error",e)}}function i(e,t){try{window.localStorage.setItem(e,t)}catch(e){r.Z.error("[localStorage.set] Error",e)}}function a(e){try{window.localStorage.removeItem(e)}catch(e){r.Z.error("[localStorage.remove] Error",e)}}},11567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(37508);const o=()=>{};function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const e=!1;if(!(t||(0,r.C7)(window)||e))return o}catch(e){return o}return"undefined"==typeof console?o:void 0!==console[e]?console[e].bind(console):o}function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={trace:i("trace",t),debug:i("debug",t),info:i("info",t),log:i("log",t),warn:i("warn",t),error:i("error",t)};Object.assign(e,n)}const c=new class{constructor(){a(this)}enable(){a(this,!0)}}},81255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(11567);function o(e){let{caller:t,errorHandler:n,url:o,window:i,fallBackToWindowOpen:a=!1}=e;const c=o.toString();try{r.Z.info("[CP] navigating to url",c),i.top.location=c}catch(e){const s=t?`${t} called in an iframe`:"try to navigate in iframe",u=i.location.href;r.Z.error(`[CP] ${s}`,u,e),n&&n.report(new Error(`${s}. location=${u} err=${e}`)),a?i.open(o.toString(),"_blank"):i.location=c}}},66616:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(83966);const o=async function(){const e=await(0,r.Z)(...arguments);return await e.json()}},83966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(11567);const o="strict-origin-when-cross-origin",i=async(e,t)=>{let n=null;try{n=await fetch(e,{...t,referrerPolicy:o})}catch(i){if(r.Z.error("[CP] Fetch request failed. Retrying without setting referrerPolicy",i),!(i instanceof Error&&i.message.includes(o)))throw r.Z.error("[CP] Second request failed inside makeRequest",i),i;n=await fetch(e,t)}if(n.ok)return n;const i=new Error(n.statusText);throw i.response=n,i}},18155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(77800),o=n(17467),i=n(11567),a=n(83966);function c(e,t){return(0,a.Z)(e,{keepalive:!0,method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})}function s(e,t){window.navigator.sendBeacon(e,(0,o.Z)(t))}async function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=!!window?.Request&&"keepalive"in new Request(window.location.origin),a="function"==typeof window?.navigator?.sendBeacon;if(n&&a&&o)try{return void await Promise.all([c(e,{...t,cprt:"f"}),s(e,{...t,cprt:"b"})])}catch(e){i.Z.warn("[cp] Sending stats via fetch or sendBeacon failed. Trying alternative method")}else{if(o)try{return void await c(e,t)}catch(e){i.Z.warn("[cp] Sending stats via fetch-api failed. Trying alternative method")}if(a)try{return void await s(e,t)}catch(e){i.Z.warn("[cp] Sending stats via sendBeacon failed. Trying alternative method")}}try{await Promise.race([(0,r.Z)(e,t),new Promise((e=>{setTimeout(e,500)}))])}catch(e){i.Z.error("[cp] Sending stats via pixel failed.",t,e)}}},1495:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,uH:()=>f});var r=n(20359),o=(n(52034),n(30746)),i=n(11567),a=n(18155);async function c(e){let{global:t,eventCategory:n,eventAction:c,eventLabel:s,viewTime:u,nonInteraction:l,samplingRate:f,userLanguage:d,platform:p="",offer:g="",hasCoupon:m,loadTime:w}=e;const{apiUrl:h,myUiUrl:v,propertyId:y,defaultPropertyId:b,publisherDashboardPropertyId:C,oidcPropertyId:P,dataLayerMap:S,window:E}=t;if("contentpass"===n)return i.Z.warn("[CP] EventCategory=contentpass is reserved"),Promise.resolve();if(void 0!==n&&!(0,r.Z)(n,20))return i.Z.warn("[CP] Not sending malformed eventCategory",n),Promise.resolve();if(void 0!==c&&!(0,r.Z)(c,20))return i.Z.warn("[CP] Not sending malformed eventAction",c),Promise.resolve();if(void 0!==s&&!(0,r.Z)(s,20))return i.Z.warn("[CP] Not sending malformed eventLabel",s),Promise.resolve();i.Z.info("[CP] Logging event",n,c,s);const O=await t.fetchPropertyConfig,T=O?.funnelConfig?.enabledProducts?.includes("beaconTest"),Z=O?.funnelConfig?.theme,I=P||y===b||y===C?`${v}/stats`:`${h}/stats`,A=await(0,o.Z)({eventAction:c,eventCategory:n,eventLabel:s,global:t,hasCoupon:m,loadTime:w,nonInteraction:l,offer:g,platform:p,samplingRate:f,theme:Z,userLanguage:d,viewTime:u});return(0,a.Z)(I,A,T)}let s,u,l;function f(e){let{global:t,eventCategory:n,eventAction:r,eventLabel:o,userLanguage:i,platform:a="",hasCoupon:f}=e;u=(new Date).getTime();const d={nonInteraction:!1,global:t,eventCategory:n,eventAction:r,eventLabel:o,platform:a,userLanguage:i,hasCoupon:f};return c(l===o&&u-s>0?{...d,viewTime:u-s}:d)}},11866:(e,t,n)=>{"use strict";async function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return new Promise((r=>{if(e[t])return void r();const o=setInterval((()=>{e[t]&&(clearInterval(o),r())}),n)}))}n.d(t,{Z:()=>r})},1882:(e,t,n)=>{"use strict";function r(e){let{cdnUrl:t}=e;n.p=`${t}/`}n.d(t,{Z:()=>r})},72955:(e,t,n)=>{"use strict";function r(e){let{window:t,cdnUrl:n}=e;Array.isArray(t.cmp_block_ignoredomains)||(t.cmp_block_ignoredomains=[]);const r=new URL(n).host;t.cmp_block_ignoredomains.includes(r)||t.cmp_block_ignoredomains.push(r)}n.d(t,{Z:()=>r})},66346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=1;function o(e){let t=0;return"IdentityCredential"in e&&(t+=r),t}},77111:(e,t,n)=>{var r=n(26733),o=n(59821),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},58669:(e,t,n)=>{var r=n(95860).has;e.exports=function(e){return r(e),e}},21176:(e,t,n)=>{var r=n(85052),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},19540:(e,t,n)=>{var r=n(10905),o=n(43231),i=n(39646),a=function(e){return function(t,n,a){var c,s=r(t),u=i(s),l=o(a,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},27079:(e,t,n)=>{var r=n(65968),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},81589:(e,t,n)=>{var r=n(71601),o=n(26733),i=n(27079),a=n(70095)("toStringTag"),c=Object,s="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),a))?n:s?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},77081:(e,t,n)=>{var r=n(98270),o=n(4826),i=n(97933),a=n(31787);e.exports=function(e,t,n){for(var c=o(t),s=a.f,u=i.f,l=0;l<c.length;l++){var f=c[l];r(e,f)||n&&r(n,f)||s(e,f,u(t,f))}}},75762:(e,t,n)=>{var r=n(7400),o=n(31787),i=n(65358);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},65358:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},14768:(e,t,n)=>{var r=n(26733),o=n(31787),i=n(16039),a=n(18400);e.exports=function(e,t,n,c){c||(c={});var s=c.enumerable,u=void 0!==c.name?c.name:t;if(r(n)&&i(n,u,c),c.global)s?e[t]=n:a(t,n);else{try{c.unsafe?e[t]&&(s=!0):delete e[t]}catch(e){}s?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return e}},18400:(e,t,n)=>{var r=n(9859),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},7400:(e,t,n)=>{var r=n(24229);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},63777:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},22635:(e,t,n)=>{var r=n(9859),o=n(85052),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},80598:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},6358:(e,t,n)=>{var r,o,i=n(9859),a=n(80598),c=i.process,s=i.Deno,u=c&&c.versions||s&&s.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},13837:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},23103:(e,t,n)=>{var r=n(9859),o=n(97933).f,i=n(75762),a=n(14768),c=n(18400),s=n(77081),u=n(46541);e.exports=function(e,t){var n,l,f,d,p,g=e.target,m=e.global,w=e.stat;if(n=m?r:w?r[g]||c(g,{}):(r[g]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(p=o(n,l))&&p.value:n[l],!u(m?l:g+(w?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},24229:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},97636:(e,t,n)=>{var r=n(44745),o=n(77111),i=n(57188),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},57188:(e,t,n)=>{var r=n(24229);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},20266:(e,t,n)=>{var r=n(57188),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},51805:(e,t,n)=>{var r=n(7400),o=n(98270),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,c=o(i,"name"),s=c&&"something"===function(){}.name,u=c&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:c,PROPER:s,CONFIGURABLE:u}},44745:(e,t,n)=>{var r=n(27079),o=n(65968);e.exports=function(e){if("Function"===r(e))return o(e)}},65968:(e,t,n)=>{var r=n(57188),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=r?a:function(e){return function(){return i.apply(e,arguments)}}},31333:(e,t,n)=>{var r=n(9859),o=n(26733);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},78830:(e,t,n)=>{var r=n(81589),o=n(55300),i=n(9650),a=n(45495),c=n(70095)("iterator");e.exports=function(e){if(!i(e))return o(e,c)||o(e,"@@iterator")||a[r(e)]}},28403:(e,t,n)=>{var r=n(20266),o=n(77111),i=n(21176),a=n(59821),c=n(78830),s=TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(o(n))return i(r(n,e));throw s(a(e)+" is not iterable")}},55300:(e,t,n)=>{var r=n(77111),o=n(9650);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},9859:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},98270:(e,t,n)=>{var r=n(65968),o=n(92991),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},95977:e=>{e.exports={}},64394:(e,t,n)=>{var r=n(7400),o=n(24229),i=n(22635);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},9337:(e,t,n)=>{var r=n(65968),o=n(24229),i=n(27079),a=Object,c=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?c(e,""):a(e)}:a},8511:(e,t,n)=>{var r=n(65968),o=n(26733),i=n(85353),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},56407:(e,t,n)=>{var r,o,i,a=n(51180),c=n(9859),s=n(85052),u=n(75762),l=n(98270),f=n(85353),d=n(44399),p=n(95977),g="Object already initialized",m=c.TypeError,w=c.WeakMap;if(a||f.state){var h=f.state||(f.state=new w);h.get=h.get,h.has=h.has,h.set=h.set,r=function(e,t){if(h.has(e))throw m(g);return t.facade=e,h.set(e,t),t},o=function(e){return h.get(e)||{}},i=function(e){return h.has(e)}}else{var v=d("state");p[v]=!0,r=function(e,t){if(l(e,v))throw m(g);return t.facade=e,u(e,v,t),t},o=function(e){return l(e,v)?e[v]:{}},i=function(e){return l(e,v)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},91943:(e,t,n)=>{var r=n(70095),o=n(45495),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},26733:(e,t,n)=>{var r=n(63777),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},46541:(e,t,n)=>{var r=n(24229),o=n(26733),i=/#|\.prototype\./,a=function(e,t){var n=s[c(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},c=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},9650:e=>{e.exports=function(e){return null==e}},85052:(e,t,n)=>{var r=n(26733),o=n(63777),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},24231:e=>{e.exports=!1},49395:(e,t,n)=>{var r=n(31333),o=n(26733),i=n(91321),a=n(66969),c=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,c(e))}},28215:(e,t,n)=>{var r=n(20266);e.exports=function(e,t,n){for(var o,i,a=n||e.next;!(o=r(a,e)).done;)if(void 0!==(i=t(o.value)))return i}},89003:(e,t,n)=>{var r=n(97636),o=n(20266),i=n(21176),a=n(59821),c=n(91943),s=n(39646),u=n(91321),l=n(28403),f=n(78830),d=n(57281),p=TypeError,g=function(e,t){this.stopped=e,this.result=t},m=g.prototype;e.exports=function(e,t,n){var w,h,v,y,b,C,P,S=n&&n.that,E=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),Z=!(!n||!n.INTERRUPTED),I=r(t,S),A=function(e){return w&&d(w,"normal",e),new g(!0,e)},N=function(e){return E?(i(e),Z?I(e[0],e[1],A):I(e[0],e[1])):Z?I(e,A):I(e)};if(O)w=e.iterator;else if(T)w=e;else{if(!(h=f(e)))throw p(a(e)+" is not iterable");if(c(h)){for(v=0,y=s(e);y>v;v++)if((b=N(e[v]))&&u(m,b))return b;return new g(!1)}w=l(e,h)}for(C=O?e.next:w.next;!(P=o(C,w)).done;){try{b=N(P.value)}catch(e){d(w,"throw",e)}if("object"==typeof b&&b&&u(m,b))return b}return new g(!1)}},57281:(e,t,n)=>{var r=n(20266),o=n(21176),i=n(55300);e.exports=function(e,t,n){var a,c;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){c=!0,a=e}if("throw"===t)throw n;if(c)throw a;return o(a),n}},45495:e=>{e.exports={}},39646:(e,t,n)=>{var r=n(34237);e.exports=function(e){return r(e.length)}},16039:(e,t,n)=>{var r=n(65968),o=n(24229),i=n(26733),a=n(98270),c=n(7400),s=n(51805).CONFIGURABLE,u=n(8511),l=n(56407),f=l.enforce,d=l.get,p=String,g=Object.defineProperty,m=r("".slice),w=r("".replace),h=r([].join),v=c&&!o((function(){return 8!==g((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+w(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(c?g(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&a(n,"arity")&&e.length!==n.arity&&g(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?c&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=f(e);return a(r,"source")||(r.source=h(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return i(this)&&d(this).source||u(this)}),"toString")},95860:(e,t,n)=>{var r=n(65968),o=Map.prototype;e.exports={Map,set:r(o.set),get:r(o.get),has:r(o.has),remove:r(o.delete),proto:o}},31358:(e,t,n)=>{var r=n(65968),o=n(28215),i=n(95860),a=i.Map,c=i.proto,s=r(c.forEach),u=r(c.entries),l=u(new a).next;e.exports=function(e,t,n){return n?o(u(e),(function(e){return t(e[1],e[0])}),l):s(e,t)}},50917:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},31787:(e,t,n)=>{var r=n(7400),o=n(64394),i=n(17137),a=n(21176),c=n(39310),s=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";t.f=r?i?function(e,t,n){if(a(e),t=c(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=c(t),a(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},97933:(e,t,n)=>{var r=n(7400),o=n(20266),i=n(19195),a=n(65358),c=n(10905),s=n(39310),u=n(98270),l=n(64394),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=c(e),t=s(t),l)try{return f(e,t)}catch(e){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},78151:(e,t,n)=>{var r=n(90140),o=n(13837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},10894:(e,t)=>{t.f=Object.getOwnPropertySymbols},91321:(e,t,n)=>{var r=n(65968);e.exports=r({}.isPrototypeOf)},90140:(e,t,n)=>{var r=n(65968),o=n(98270),i=n(10905),a=n(19540).indexOf,c=n(95977),s=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(c,n)&&o(r,n)&&s(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~a(l,n)||s(l,n));return l}},19195:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},32914:(e,t,n)=>{var r=n(20266),o=n(26733),i=n(85052),a=TypeError;e.exports=function(e,t){var n,c;if("string"===t&&o(n=e.toString)&&!i(c=r(n,e)))return c;if(o(n=e.valueOf)&&!i(c=r(n,e)))return c;if("string"!==t&&o(n=e.toString)&&!i(c=r(n,e)))return c;throw a("Can't convert object to primitive value")}},4826:(e,t,n)=>{var r=n(31333),o=n(65968),i=n(78151),a=n(10894),c=n(21176),s=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(c(e)),n=a.f;return n?s(t,n(e)):t}},58885:(e,t,n)=>{var r=n(9650),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},59989:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},44399:(e,t,n)=>{var r=n(33036),o=n(81441),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},85353:(e,t,n)=>{var r=n(9859),o=n(18400),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},33036:(e,t,n)=>{var r=n(24231),o=n(85353);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},44860:(e,t,n)=>{var r=n(6358),o=n(24229);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},43231:(e,t,n)=>{var r=n(43329),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},10905:(e,t,n)=>{var r=n(9337),o=n(58885);e.exports=function(e){return r(o(e))}},43329:(e,t,n)=>{var r=n(50917);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},34237:(e,t,n)=>{var r=n(43329),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},92991:(e,t,n)=>{var r=n(58885),o=Object;e.exports=function(e){return o(r(e))}},92066:(e,t,n)=>{var r=n(20266),o=n(85052),i=n(49395),a=n(55300),c=n(32914),s=n(70095),u=TypeError,l=s("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,s=a(e,l);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},39310:(e,t,n)=>{var r=n(92066),o=n(49395);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},71601:(e,t,n)=>{var r={};r[n(70095)("toStringTag")]="z",e.exports="[object z]"===String(r)},59821:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},81441:(e,t,n)=>{var r=n(65968),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},66969:(e,t,n)=>{var r=n(44860);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},17137:(e,t,n)=>{var r=n(7400),o=n(24229);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},51180:(e,t,n)=>{var r=n(9859),o=n(26733),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},70095:(e,t,n)=>{var r=n(9859),o=n(33036),i=n(98270),a=n(81441),c=n(44860),s=n(66969),u=r.Symbol,l=o("wks"),f=s?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return i(l,e)||(l[e]=c&&i(u,e)?u[e]:f("Symbol."+e)),l[e]}},67526:(e,t,n)=>{"use strict";var r=n(23103),o=n(58669),i=n(95860).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=o(this),n=!0,r=0,a=arguments.length;r<a;r++)e=i(t,arguments[r]),n=n&&e;return!!n}})},33354:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(31358);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0);return!1!==a(t,(function(e,r){if(!n(e,r,t))return!1}),!0)}})},25870:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(95860),c=n(31358),s=a.Map,u=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=new s;return c(t,(function(e,o){n(e,o,t)&&u(r,o,e)})),r}})},40574:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(31358);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=a(t,(function(e,r){if(n(e,r,t))return{key:r}}),!0);return r&&r.key}})},10930:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(31358);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=a(t,(function(e,r){if(n(e,r,t))return{value:e}}),!0);return r&&r.value}})},94116:(e,t,n)=>{"use strict";var r=n(23103),o=n(59989),i=n(58669),a=n(31358);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===a(i(this),(function(t){if(o(t,e))return!0}),!0)}})},43267:(e,t,n)=>{"use strict";var r=n(23103),o=n(58669),i=n(31358);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=i(o(this),(function(t,n){if(t===e)return{key:n}}),!0);return t&&t.key}})},74614:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(95860),c=n(31358),s=a.Map,u=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=new s;return c(t,(function(e,o){u(r,n(e,o,t),e)})),r}})},19852:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(95860),c=n(31358),s=a.Map,u=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0),r=new s;return c(t,(function(e,o){u(r,o,n(e,o,t))})),r}})},44306:(e,t,n)=>{"use strict";var r=n(23103),o=n(58669),i=n(89003),a=n(95860).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=o(this),n=arguments.length,r=0;r<n;)i(arguments[r++],(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0});return t}})},26077:(e,t,n)=>{"use strict";var r=n(23103),o=n(77111),i=n(58669),a=n(31358),c=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),n=arguments.length<2,r=n?void 0:arguments[1];if(o(e),a(t,(function(o,i){n?(n=!1,r=o):r=e(r,o,i,t)})),n)throw c("Reduce of empty map with no initial value");return r}})},71072:(e,t,n)=>{"use strict";var r=n(23103),o=n(97636),i=n(58669),a=n(31358);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=o(e,arguments.length>1?arguments[1]:void 0);return!0===a(t,(function(e,r){if(n(e,r,t))return!0}),!0)}})},50183:(e,t,n)=>{"use strict";var r=n(23103),o=n(77111),i=n(58669),a=n(95860),c=TypeError,s=a.get,u=a.has,l=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=i(this),r=arguments.length;o(t);var a=u(n,e);if(!a&&r<3)throw c("Updating absent value");var f=a?s(n,e):o(r>2?arguments[2]:void 0)(e,n);return l(n,e,t(f,e,n)),n}})},97376:e=>{var t,n,r,o,i,a;e.exports=(n=[],r=document,o=r.documentElement.doScroll,i="DOMContentLoaded",(a=(o?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState))||r.addEventListener(i,t=function(){for(r.removeEventListener(i,t),a=1;t=n.shift();)t()}),function(e){a?setTimeout(e,0):n.push(e)})},52034:(e,t,n)=>{var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=t(c[0]);if(s=(r.read||r)(s,u)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(o[u]=s,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},82686:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},45302:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>i});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}},20708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});for(var r=n(86525),o=[],i=0;i<256;++i)o.push((i+256).toString(16).substr(1));const a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!(0,r.Z)(n))throw TypeError("Stringified UUID is invalid");return n}},88767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(45302),o=n(20708);const i=function(e,t,n){var i=(e=e||{}).random||(e.rng||r.Z)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=i[a];return t}return(0,o.Z)(i)}},86525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(82686);const o=function(e){return"string"==typeof e&&r.Z.test(e)}},22029:(e,t,n)=>{"use strict";n.d(t,{L9:()=>o,ZP:()=>i});const r={CCM19:"ccm19",CONSENTMANAGER:"consentmanager",DIDOMI:"didomi",LIVERAMP:"liveramp",ONETRUST:"onetrust",SNIGEL:"snigel",SOURCEPOINT:"sourcepoint",USERCENTRICS:"usercentrics"},o=(Object.values(r),{[r.CCM19]:[343],[r.CONSENTMANAGER]:[31],[r.DIDOMI]:[7],[r.LIVERAMP]:[3],[r.ONETRUST]:[28],[r.SNIGEL]:[229],[r.SOURCEPOINT]:[6,345,35],[r.USERCENTRICS]:[5,318,329]}),i=r},14760:(e,t,n)=>{"use strict";n.d(t,{$c:()=>o,bU:()=>i});var r=n(22029);const o=e=>r.L9[r.ZP.USERCENTRICS].includes(e),i=e=>{const t=Object.entries(r.L9).find((t=>t[1].includes(e)));return t?.[0]}},81567:(e,t,n)=>{"use strict";n.d(t,{AH:()=>l,Ci:()=>s,Hk:()=>r,K3:()=>u,Oj:()=>w,Xz:()=>o,YJ:()=>i,Zg:()=>m,iP:()=>g,j1:()=>a,n4:()=>f,od:()=>c,pA:()=>p,sc:()=>d});const r="signup",o="authhint",i="user",a="test",c="optout",s="uc_settings",u="uc_tcf",l="uc_user_interaction",f="consentUUID",d="_cplanguage",p="__cpLogging",g="_cpUseTheme",m="cpCanonicalUrl",w="cpContinueUrl"},20359:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=/^([a-z][a-z0-9-]*)+$/;function o(e,t){return e&&e.length<=t&&r.test(e)}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var c=2&r&&n;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(o,i),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"chunks/cp-chunk-"+({587:"cmp-snigel",815:"cmp-ccm19",1410:"renderIframe",1977:"cmp-consentmanager",2309:"cmp-onetrust",3797:"renderInline",4216:"cmp-usercentrics",4673:"cmp-sourcepoint",5166:"cmp-didomi",6779:"cmp-liveramp",9303:"detectAdblock",9760:"renderFunnel",9881:"renderMessage",9937:"themes-default"}[e]||e)+".20240828075038-95c3cfbe8d."+{101:"13db90ab5feaf373200d",309:"9a04353af8f696703a90",341:"dfd1370717e2b30097b1",587:"e698b6d3bd7983fb8438",687:"618e76929100607577fc",815:"4b5b87840233b0beb08c",1063:"a3fdafe447018ef151eb",1410:"7db99324ee0b29981cad",1977:"f0a81e4337e3b3204094",2309:"782abc28190eaa4f14d8",2445:"7047d91420afaa542750",2608:"280243d828767b72fe1b",2855:"0d60e5be2856b98f6b1e",3021:"b11ab79f2df69042e16c",3175:"630a47bcec67b6b58fbf",3581:"3e102b51823d94c25841",3797:"5f28ec79886421468151",3824:"42e43791a2934f503e65",3826:"cda533031e1b6ea609f9",4216:"fbbd876bb54e5e80ae4b",4324:"20096a504165f2e30f92",4521:"bc8e5e8c6776e1e96e03",4673:"2f56ceabc49d4cbcf646",4727:"2edf84487c1e6c234f83",5082:"1212b8fbf3b351fc1977",5096:"3c6c689a3751b3228b4f",5166:"23f24640dee530e8607d",5654:"361f82feaeca5fc85237",6075:"8dec00ff27a62a5b1817",6435:"5f703f14f698489c4ac8",6492:"eb3c20f025cf4e3fa16b",6779:"37db0f00b59a0affebe0",7201:"389d8ff1cfc713c238b1",7305:"740d163109fac80329f1",7498:"b0fd4ca27eded2fab2db",7500:"4aca7268ab72ae0242f9",7716:"f04c7290ca4436f5e6ad",7843:"82b7784558e9e7446a9d",7921:"cf8281b6fb9e23810e57",8377:"1a6dc79754666f8ef62e",8401:"3d2bbdc67ebc1b659ebc",8430:"fc44bc767d7f2ed2cd3b",8786:"470dabe0ed40919aefd0",8809:"1e26e7da8997bc0605ec",8870:"d3fbbcd3120d21ecb652",8889:"fe45a8ac4b7bd5144749",8900:"d42a963dcc1fab19c63b",9288:"7a73c310021a61d1a0ef",9303:"465b2afb74be69e42ef0",9492:"16f56285f8453c6e3df8",9760:"88b40322aebfb897c3a0",9874:"f0a2cdab6a4790fe2b32",9881:"d6904c4f7fe248ea72eb",9925:"6f50793002f7d8894d5c",9937:"4451883dba6104e64cc8"}[e]+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@contentpass/ui:",a.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var c,s;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==r+o){c=f;break}}c||(s=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",r+o),c.src=e),n[e]=[t];var d=(t,r)=>{c.onerror=c.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=d.bind(null,c.onerror),c.onload=d.bind(null,c.onload),s&&document.head.appendChild(c)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="https://npa.thetimes.com",(()=>{var e={1465:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=a.p+a.u(t),c=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,i=n[0],c=n[1],s=n[2],u=0;if(i.some((t=>0!==e[t]))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(s)s(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_contentpass_ui=self.webpackChunk_contentpass_ui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,(()=>{"use strict";var e={};a.r(e),a.d(e,{acceptAll:()=>l,authenticate:()=>X,create:()=>$e,denyAll:()=>Ne,event:()=>F,extension:()=>Fe,goto:()=>G,login:()=>W,logout:()=>ke,register:()=>qe,render:()=>be,signup:()=>B});let t=function(e){return e.AUTHENTICATE="authenticate",e.CHECK_CP_INTEGRATION="checkCPIntegration",e.LOGIN="login",e.LOGOUT="logout",e}({});var n=a(11567);function r(e,t){e.source&&e.source.postMessage({type:"RESPONSE",protocol:"contentpass",requestId:e.data.requestId,action:e.data.action,payload:t})}var o=a(39389);const i=e=>"function"==typeof e,c=e=>e?"1":"0";function s(e){return!!function(e){return!!e.propertyId||(n.Z.error("[CP] Instance has not been initialized, call create as the first operation."),!1)}(e)}function u(e){if("string"!=typeof e)return e;let t=e.length;for(;t>0&&"/"===e[t-1];)t-=1;return t<e.length?e.substring(0,t):e}const l=async function(e,t){const r=i(t)?t:void 0;let a=null;try{const t=await e.fetchPropertyConfig,n=await(0,o.a$)(e,t);n?await n():a=new Error("acceptAll not implemented for the current CMP")}catch(t){a=t,e.errorHandler.report(t)}if(r)try{r(a)}catch(t){n.Z.error("[CP] error in acceptAll callback",t),e.reportCallbackErrors&&e.errorHandler.report(t,"cb:cpAcceptAll")}};var f=a(22029),d=a(37508);function p(e){return e&&Object.values(e).filter(Boolean)||[]}const g=function(e){return e?.funnelConfig?[...p(e.funnelConfig.contactUrl),...p(e.funnelConfig.imprintUrl),...p(e.funnelConfig.privacyPolicyUrl),...p(e.funnelConfig.termsUrl),...p(e.funnelConfig.faqUrl)]:[]};function m(e,t){const r=g(t),o=r.includes(e.window.location.href);if(o)return n.Z.info("[CP] Skipping render as this url is white-listed",r,e.window.location.href),o;const i=(t.funnelConfig?.skipLocations||[]).filter((e=>e)).some((t=>e.window.location.href.includes(t)));return i&&n.Z.info("[CP] Skipping render due to skipLocations config",t.funnelConfig?.skipLocations,e.window.location.href),i}const w=function(e,t){return(t?.funnelConfig?.rules||[]).filter((t=>e.window.document.querySelector(t.renderIf))).filter((t=>{let{skipLocations:r=[]}=t;return!r.some((t=>{const r=new RegExp(t).test(e.window.location.href);return r&&n.Z.info("[CP] Skipping render due to skipLocations config",t,e.window.location.href),r}))})).filter((()=>!m(e,t)))},h=31,v="cmpnoscreen",y="cmp_noscreen";const b=function(e){try{const t=window.atob(e.split(".")[1]);return JSON.parse(t)}catch(e){const t=new Error("could not decode token");throw t.originalError=e,t}};var C=a(81567),P=a(69483);function S(e){let{cookiePrefix:t}=e;const n=`${t}${C.YJ}`;return(0,P.$o)(n)}var E=a(52034),O=a.n(E);function T(e){try{return O().get(`${e||""}${C.Xz}`)}catch(e){return null}}var Z=a(99626);function I(e){const t=new Date(e);return t.setUTCDate(t.getUTCDate()+1),t.setUTCHours(0,0,0,0),t}const A=26784e5;function N(e,t){let{cookiePrefix:r,setTokenCookie:o,cookiesAllowed:i}=t;if(!o||!i)return;const a=`${r}${C.YJ}`;O().get(a)!==e&&(n.Z.info("[CP] Token cookie missing or outdated, updating",a,b(e)),(0,Z.d)(a,e,{expires:I((new Date).getTime()+A)}))}var k=a(66616);const _=function(e){let t=null;return async function(){if(t)return await t;try{t=e(...arguments);return await t}finally{t=null}}}((async e=>{const t=await async function(e){let{apiUrl:t,propertyId:n}=e;const{contentpassToken:r}=await(0,k.Z)(`${t}/auth/login/token?propertyId=${n}`,{method:"GET",credentials:"include",mode:"cors",redirect:"follow",headers:{"Content-Type":"application/json"}});return r}(e);return function(e,t){const{cookiePrefix:r}=t,o=`${r}${C.YJ}`,i=b(e);i.auth&&(n.Z.info("[CP] Save publisher token",o,i),(0,P.qQ)(o,e)),N(e,t)}(t,e),t})),R=129600,U=async(e,t,n)=>{const r=t?b(t):null,i=b(n),a=await e.fetchPropertyConfig;if(i?.auth&&r?.auth!==i?.auth){const t=await(0,o.h7)(e,a);if(t){await t()&&e.window.location.reload()}}};const x=a(97376);function L(){return new Promise((e=>x(e)))}var j=a(11866);function M(e){return e?.self!==e?.parent}var D=a(81255);a(67526),a(33354),a(25870),a(10930),a(40574),a(94116),a(43267),a(74614),a(19852),a(44306),a(26077),a(71072),a(50183);var $=a(1495);const F=function(e,t,n,r,o){if(!s(e))return;const{cp:i}=e.window,a="number"==typeof i?.l?Date.now()-i.l:void 0;(0,$.ZP)({global:e,eventCategory:t,eventAction:n,eventLabel:r,samplingRate:o,loadTime:void 0,viewTime:a,nonInteraction:void 0,userLanguage:void 0,hasCoupon:void 0})};function q(e){const{isAmp:t,window:r}=e;if(t){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=new Map;return e.substring(e.startsWith("?")||e.startsWith("#")?1:0).split("&").map((e=>e.split("="))).forEach((e=>t.set(decodeURIComponent(e[0]),decodeURIComponent(e[1])))),t}(r.location.search),t=e.get(C.Zg);if(t)return t;const n=e.get(C.Oj);return n||void 0}return M(e.window)&&n.Z.warn("[CP] Running inside an iframe. Unable to determine parent location"),r.location.href}const H=async function(e,t,r){const{apiUrl:i,errorHandler:a,instanceId:c,isAmp:s,window:u}=e,l=await e.fetchPropertyConfig,{id:f}=l;!function(e){let{global:t,propertyConfig:n}=e;if("175ebbf8"!==n?.publicId)return;const{name:r,authConfig:o}=n,{cookiePrefix:i}=t,a=`${i}${C.Hk}`,c=`${Date.now()}`,s=new Date((new Date).getTime()+36e5);(0,Z.d)(a,c,{expires:s,domain:o?.cookieDomain||r,path:o?.cookiePath||"/",secure:!0})}({global:e,propertyConfig:l}),function(e){let{window:t}=e;"cmpmngr"in t&&t.cmpmngr?.cnf?.cspblock&&(t.cmpmngr.cnf.cspblock=0)}(e),await async function(e,t){if(!e.isAmp)return void n.Z.info("[CP] Not signaling deny-all in case of AMP");n.Z.info("[CP] Denying all consents before sending user to contentpass.");const r=await(0,o.h7)(e,t);r&&await r()}(e,l);const d=l?.offeredPlans?.edges[0]?.node?.id,p=new URL(i);p.pathname=`${p.pathname.replace(/\/$/,"")}/auth/login`,p.searchParams.set("instanceId",c),p.searchParams.set("propertyId",f),p.searchParams.set("planId",d),p.searchParams.set("route",t);const g=r||q(e);g&&p.searchParams.set("continue",g);const m=(0,P.$o)(C.sc);m&&p.searchParams.set("language",m),await F(e,"wall",t),n.Z.info("[CP] Sending user to funnel",p,s);const w=s;(0,D.Z)({caller:"sendUserToFunnel()",errorHandler:a,fallBackToWindowOpen:w,url:p,window:u})};const G=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s(e))return;n.Z.log("[CP] Operation: goto",t);const{page:r,continueUrl:o}=t;if(!["login","signup","register","publications","faq","terms","privacy"].includes(r))throw new Error(`Page: ${r} is not supported`);await H(e,r,o)};const W=function(e,t){G(e,{page:"login",...t})};const B=function(e,t){G(e,{page:"signup",...t})},V=86400;var z=a(72955);let J=!1;async function Y(e,t,r){if(!e.isWhitelabel&&!J){J=!0,t.funnelConfig?.cmp===f.ZP.CONSENTMANAGER&&(0,z.Z)(e);try{const{default:n}=await a.e(9881).then(a.bind(a,10111));await n(e,{propertyConfig:t,messageType:r})}catch(t){n.Z.error(`[CP] Could not render ${r} message`,t),e.errorHandler.report(t)}}}var K=a(77800);const Q=function(e){const{apiUrl:t,propertyId:n,instanceId:r,environment:o,userType:i}=e;o?.isWhitelabel||(e.pendingSendInvocation&&(clearTimeout(e.pendingSendInvocation),e.pendingSendInvocation=null),e.pendingSendInvocation=setTimeout((()=>{e.pendingSendInvocation=null,(0,K.Z)(`${t}/pass/hit`,{pid:n,iid:r,t:window.btoa("pageview"),...i&&{ut:i}})}),3e3))};const X=async function(e,t){const r=i(t)?t:void 0,a=!i(t)&&t||{};if(!s(e))return null;const c=await e.fetchPropertyConfig,{isSpa:u,isWhitelabel:l}=e;try{if("login"===a.prompt)return W(e);if("signup"===a.prompt)return B(e);let t=null;try{const r=S(e),i=r?b(r):null,a=await async function(e){let{denyAllOnLogin:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function r(r,o){t&&(n.Z.info("[CP] Denying all consents after successful login."),U(e,r,o))}const{cookiePrefix:o}=e,i=T(o),a="1"===i,c="0"===i,s=S(e)||null,u=s?b(s):null,l=u&&!u.auth;if(s&&c)return(0,P.dZ)(`${o}${C.YJ}`),null;if((l||!s)&&a){const t=await _(e);return r(s,t),b(t)}if(!s||!u)return null;if(Date.now()/1e3>u.exp){(0,P.dZ)(`${o}${C.YJ}`),n.Z.info("[CP] Token expired, forcing sync update",u);const t=await _(e);return r(s,t),b(t)}return Date.now()/1e3>u.exp-R&&(n.Z.info("[CP] Token about to expire, forcing async update",u),_(e).then((e=>r(s,e)))),N(s,e),u}(e,{denyAllOnLogin:!0});e.userType=a?.type,n.Z.info("[CP] Received publisher token",a);const s=!0!==c?.funnelConfig?.isLive&&(0,d.zq)(e.window),f=a?.auth||s,p=Array.isArray(a?.plans)&&a?.plans.length>0,g=a?.auth&&p||s,m=f&&g&&(!r||function(e,t){if(!e)return!1;const n=e.iat;return(new Date).getTime()/1e3>n+t*V}(i,3));t={isLoggedIn:()=>f,hasValidSubscription:()=>g},g&&(L().then((()=>{e.window.document.body.classList.add("cpauthenticated")})),(0,o.S7)(e,c).then((e=>{e&&e(t)})),u||s||Q(e)),!l&&m&&Y(e,c,"successfulLogin")}catch(r){n.Z.error("[CP] Error while syncing publisher token",r),e.errorHandler.report(r),t={isLoggedIn:()=>!1,hasValidSubscription:()=>!1}}const i=await(0,o.fw)(e,c);if(i!==f.ZP.CONSENTMANAGER||t.hasValidSubscription()||function(e,t){if(!t?.funnelConfig?.enabledProducts?.includes("watchForCmpChanges"))return;const{window:r}=e;"function"==typeof r.__tcfapi&&r.__tcfapi("addEventListener",2,(async(i,a)=>{if((i.listenerId||0===i.listenerId)&&r.__tcfapi("removeEventListener",2,(()=>{}),i.listenerId),!a||i?.cmpId!==h)return;if(-1!==r.location.hash.indexOf(v)||-1!==r.location.search.indexOf(v)||y in r&&r[y])return void n.Z.info("[CP] Skipping watchForCmpChanges because #cmpnoscreen detected.");const c=await(0,o.SM)(e,t);c&&await c()}))}(e,c),i===f.ZP.SOURCEPOINT&&(await(0,j.Z)(e.window,"_sp_"),await(0,j.Z)(e.window._sp_,"executeMessaging"),async function(e){const t=await e.fetchPropertyConfig,r=t?.funnelConfig?.enabledProducts;Array.isArray(r)&&r.includes("disableViewCacheWorkaround")?n.Z.info("[CP] Sourcepoint view cache workaround is disabled"):e.window.addEventListener("pageshow",(t=>{t.persisted&&(n.Z.info("[CP] Triggering Sourcepoint layer on cached site"),window.document.querySelector("html.sp-message-open")&&e.window._sp_.destroyMessages(),setTimeout((()=>{e.window._sp_.executeMessaging()})))}))}(e)),e.sideEffects&&await e.sideEffects,!r)return t;try{r(null,t)}catch(t){n.Z.error("[CP] error in authenticate callback",t),e.reportCallbackErrors&&e.errorHandler.report(t,"cb:cpAuthenticate")}}catch(t){n.Z.error("[CP] Operation: authenticate.",t),e.errorHandler.report(t)}return null};var ee=a(88767),te=a(1882);function ne(e,t){return e.filter((e=>e.toLowerCase().includes(`test${t.toLowerCase()}probability=`))).map((e=>e.split("=")[1])).map((e=>Number(e))).find((e=>e>0))}function re(e,t){const n=(0,d.Gh)(e.window),r=(0,d.nt)(e.window);if(n||r)return{iframeOverwrite:r,themeOverwrite:n};const o=function(e,t){const n=t?.funnelConfig?.enabledProducts||[],r=ne(n,"theme");if(void 0===r)return(0,P.dZ)(C.iP),null;const o=n.filter((e=>e.includes("testThemeName="))).map((e=>e.split("=")[1])).find(Boolean)||"redesign";return"1"===(0,P.$o)(C.iP)?o:Math.random()<r?((0,P.qQ)(C.iP,"1"),o):null}(0,t);if(o)return{iframeOverwrite:"iframe-ssr"===o,themeOverwrite:o};const i=function(e,t){const n=ne(t?.funnelConfig?.enabledProducts||[],"iframe");return void 0!==n&&!!(Math.random()<n)}(0,t);return i?{iframeOverwrite:!0,themeOverwrite:void 0}:{iframeOverwrite:void 0,themeOverwrite:void 0}}var oe=a(15563);var ie=a(6435),ae=a(28451),ce=a(37605);async function se(){const{default:e}=await a.e(9760).then(a.bind(a,42002));return e}let ue=function(e){return e.NO_CONSENT="noConsent",e.UNKNOWN="unknown",e}({});const le="__cmpconsentx",fe=65;function de(){const e=function(){try{const e=document.cookie.split(";").find((e=>e.trim().startsWith(le)));if(e){const t=e.split("=")[0].trim();return O().get(t)}return null}catch(e){return null}}()||function(){try{for(let e=0;e<localStorage.length;e+=1){const t=localStorage.key(e);if(t&&t.startsWith(le)&&!t.includes("expire"))return localStorage.getItem(t)}return null}catch(e){return null}}();return e?e.length<=fe?ue.NO_CONSENT:ue.UNKNOWN:ue.NO_CONSENT}const pe=["euconsent-v2","eupubconsent-v2"],ge=[f.ZP.DIDOMI,f.ZP.ONETRUST,f.ZP.CONSENTMANAGER];const me=async function(e,t){let{propertyConfig:r,ruleConfig:i}=t;const a={propertyConfig:r,ruleConfig:i,callbacks:{authenticate:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(e,...n)},goto:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(e,...n)},event:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(e,...n)}},environment:{...e.environment,apiUrl:e.apiUrl,cookieDomain:e.cookieDomain,cookiePrefix:e.cookiePrefix,cdnUrl:e.cdnUrl,window:e.window}};await(0,o.fw)(e,r)===f.ZP.CONSENTMANAGER&&(0,z.Z)(e);try{const t=await se();await t(e,a)}catch(t){n.Z.error("[CP] Could not render funnel",t),e.errorHandler.report(t)}};function we(e){return null==e||"boolean"==typeof e}const he=async e=>{const t=await X(e);if(e.isAmp)return{hasSession:!1,hasSubscription:!1};const r=t?.isLoggedIn(),o=t?.hasValidSubscription();if(!r&&"function"==typeof e.setUserContext)try{const{hasAccount:t,hasPaidAccess:n}=await(async e=>new Promise(((t,n)=>{e.setUserContext((function(e,r){e?n(new Error(`[CP] Error during reading data from user context: ${e}`)):we(r.hasAccount)&&we(r.hasPaidAccess)?t({hasAccount:!!r.hasAccount,hasPaidAccess:!!r.hasPaidAccess}):n(new Error(`[CP] Values in user context are not correct: ${JSON.stringify(r)}`))}))})))(e);return{hasSession:t,hasSubscription:n}}catch(t){n.Z.error(t?.message||"[CP] Unexpect error happened during reading data from user context"),e.reportCallbackErrors&&e.errorHandler.report(t,"cb:setUserContext")}return{hasSession:Boolean(r),hasSubscription:Boolean(o)}};function ve(e){if(!e.length)return"de";if(1===e.length)return e[0];const t=window?.navigator?window.navigator.language?window.navigator.language:window.navigator.languages?.length?window.navigator.languages[0]:null:null,n="string"==typeof t?t.split("-")[0]:null;return n&&e.includes(n)?n:e[0]}function ye(e,t){const r=function(e){return ge.includes(e?.funnelConfig?.cmp)?e?.funnelConfig?.cmp===f.ZP.CONSENTMANAGER?de():pe.find((e=>{try{return O().get(e)}catch(e){return!1}}))?ue.UNKNOWN:ue.NO_CONSENT:ue.UNKNOWN}(t),o="1"===T(e.cookiePrefix);if(r===ue.NO_CONSENT&&!o){n.Z.info("[CP] Starting CMP hot path");const r=t?.funnelConfig?.theme;if(se(),"iframe-ssr"===r)return void(0,ce.Z)();const{project:o}=e.environment||{},{supportedLanguages:i}=t?.funnelConfig||{},c=ve(i||[]);(0,ae.Z)();(0,ie.Z)(o,r)(),o&&c&&(a(87857)(`./${o}/${c}.json`),a(30545)(`./${o}/${c}.json`))}}const be=async function(e){let{onFullConsent:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(e)){await L();try{const r=await e.fetchPropertyConfig;ye(e,r);const{hasSession:i,hasSubscription:a}=await he(e),c=await(0,o.fw)(e,r),s=await(0,o.oQ)(e,r);if(a||"function"!=typeof t||await s({onFullConsent:()=>{n.Z.info("[CP] Full consent given, calling onFullConsent callback");try{t()}catch(t){n.Z.error("[CP] error in onFullConsent callback",t),e.reportCallbackErrors&&e.errorHandler?.report(t,"cb:onFullConsent")}}}),c===f.ZP.SOURCEPOINT){const t=m(e,r),n=i&&a,c=await(0,o.DP)(e,r);return void await c(t,n)}const u=await(0,o.X8)(e,r);if(await u(),r?.funnelConfig?.enabledProducts?.includes("checkConsentBeforeRender")){const t=await(0,o.Au)(e,r),i=await t(e);if(i)return void n.Z.info("[CP] skipping further rendering - user has full consent ",i)}const l=w(e,r);if(!l.length||!l.some((e=>e.hasSession||e.hasSubscription)))return void n.Z.info("[CP] No matching rules found, skipping render.");const d=l.filter((e=>(!e.hasSession||e.hasSession.includes(i))&&(!e.hasSubscription||e.hasSubscription.includes(a))));n.Z.info("[CP] Processing matching render rules",d),d.forEach((t=>{me(e,{propertyConfig:r,ruleConfig:t.config})}))}catch(t){n.Z.error("[CP] Operation: render.",t),e.errorHandler.report(t)}}};function Ce(e,t){t.dontshow=1,t.isPURModel=!1}function Pe(e,t){if(!function(e){return e.funnelConfig&&"consentmanager"===e.funnelConfig.cmp&&e.funnelConfig.cmpRendersWall}(t))return;const{funnelConfig:r}=t,o=r?.enabledProducts||[],i=o.includes("overwriteConsentmanagerWall");r?.cmpRendersWall&&i&&(n.Z.info("[CP] Overwriting Consentmanager Layer",o),function(e){e.window.__cmp("addEventListener",["init",Ce,!1],null),e.window.__cmp("addEventListener",["settings",Ce,!1],null),e.window.cmpmngr&&Ce(0,e.window.cmpmngr)}(e),setTimeout((()=>be(e)),0))}var Se=a(47960);const Ee=20,Oe=2e3;function Te(e){let{pollingInterval:t=Ee,timeout:r=Oe,window:o}=e;return new Promise((e=>{const i={tcfStatus:"unknown"},a=setTimeout((()=>{n.Z.warn("[CP] Waiting for TCF API ran into a timeout.",i),i.state="timeout",e(i)}),r);function c(){n.Z.info("[CP] Waiting for TCF API done.",i),clearTimeout(a),e(i)}function s(e,r,a){if("timeout"!==i.state){if(e?.cmpStatus===Se.CmpStatus.STUB||"stub"===a)return n.Z.info("[CP] TCF API not loaded yet. Retrying."),i.tcfStatus=Se.CmpStatus.STUB,void setTimeout((()=>{o.__tcfapi("ping",2,s)}),t);if(r){if(!e)return n.Z.error("[CP] TCF API returned invalid ping response. Aborting."),i.state="error",void c();if(!e.cmpLoaded)return n.Z.info("[CP] TCF API not loaded yet. Retrying."),i.tcfStatus=Se.CmpStatus.STUB,void setTimeout((()=>{o.__tcfapi("ping",2,s)}),t);if(e.cmpStatus===Se.CmpStatus.LOADING)return n.Z.info("[CP] TCF API is loading. Retrying."),i.tcfStatus=Se.CmpStatus.LOADING,void setTimeout((()=>{o.__tcfapi("ping",2,s)}),t);i.state="ready",i.tcfStatus=Se.CmpStatus.LOADED,c()}else o._sp_?.config?(i.tcfStatus=Se.CmpStatus.STUB,setTimeout((()=>{o.__tcfapi("ping",2,s)}),t)):(n.Z.error("[CP] TCF API returned an error. Aborting."),i.state="error",c())}}!function e(){if("timeout"!==i.state){if(!o.__tcfapi)return i.tcfStatus="unavailable",void setTimeout(e,t);i.tcfStatus="available",o.__tcfapi("ping",2,s)}}()}))}function Ze(e){let{state:t,tcfStatus:n}=e;return"ready"===t||"timeout"===t&&"loading"===n}function Ie(e,t,n){return[[e,t].join("-").substring(0,15),n].join("-")}const Ae=(e,t,n)=>r=>{t(e,"tcf-sampled",r,undefined,n)};const Ne=async function(e,t){const r=i(t)?t:void 0;let a=null;try{const t=await e.fetchPropertyConfig,n=await(0,o.h7)(e,t);n&&await n()}catch(t){a=t,e.errorHandler.report(t)}if(r)try{r(a)}catch(t){n.Z.error("[CP] error in denyAll callback",t),e.reportCallbackErrors&&e.errorHandler.report(t,"cb:cpDenyAll")}};const ke=async function(e,t){if(!s(e))return null;const{apiUrl:r,cookiePrefix:o,cookieDomain:i,cookiePath:a,errorHandler:c,window:u}=e,{id:l}=await e.fetchPropertyConfig;!function(e,t,n,r){(0,P.dZ)(e);let o=t;for((0,Z.n)(e,{domain:o,path:n});r&&o;){(0,Z.n)(e,{domain:o,path:n});const t=o.indexOf(".");if(-1===t)break;if(o=o.substring(t+1),-1===o.indexOf("."))break}}(`${o}${C.YJ}`,i,a);const f=t?.continueUrl||e.window.location.href,d=new URL(r);return d.pathname=`${d.pathname.replace(/\/$/,"")}/auth/login/logout`,d.searchParams.set("continue",f),d.searchParams.set("propertyId",l),n.Z.info("[CP] Sending user to",d),(0,D.Z)({caller:'cp("logout")',errorHandler:c,url:d,window:u}),null};let _e=function(e){return e.CONSENTMANAGER="consentmanager",e.DIDOMI="didomi",e.LIVERAMP="liveramp",e.ONETRUST="onetrust",e.SOURCEPOINT="sourcepoint",e.USERCENTRICS="usercentrics",e}({}),Re=function(e){return e.ENABLED="ENABLED",e.ERROR="ERROR",e}({});async function Ue(e){let{cmp:t,window:n}=e;const r=function(e,t){switch(t){case _e.SOURCEPOINT:return function(e){const t="/unified/wrapperMessagingWithoutDetection.js";return e._sp_?.config?.baseEndpoint?`${e._sp_.config.baseEndpoint}${t}`:`https://cdn.privacy-mgmt.com${t}`}(e);case _e.CONSENTMANAGER:return"https://cdn.consentmanager.net/delivery/js/cmp_en.min.js";case _e.DIDOMI:return"https://sdk.privacy-center.org/loader.js";case _e.USERCENTRICS:return"https://api.usercentrics.eu/tcf2/en-v2.json";case _e.ONETRUST:return"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js";default:return null}}(n,t);if(!r)throw new Error(`Could not find url to detect if cmp is blocked for following cmp: ${t}`);const o=Date.now();try{const e=await fetch(r),t=Date.now()-o;return{cmpStatus:e.status>=200&&e.status<400?Re.ENABLED:Re.ERROR,loadTime:t}}catch(e){const t=Date.now()-o;return{cmpStatus:Re.ERROR,loadTime:t}}}var xe=a(91205);const Le=async function(e,t,r){const o=i(t)?t:r,a=!i(t)&&t||{};if(!s(e))return void(i(o)&&o(new Error("Not initialized")));await L();const u=(0,ee.Z)();function l(e,t){const n={};return Object.keys(e).forEach((r=>{if(!t[r])return;const o=e[r];if("string"!=typeof t[r])return void(n[t[r].key]=l(o,t[r].mapping));let i=o;null===o?i=null:!0===o?i=1:!1===o&&(i=0),n[t[r]]=i})),n}function f(e){return JSON.stringify(l(e,{isScriptOnloadReceived:"sol",isScriptOnerrorReceived:"soe",isScriptVariableLoaded:"sv",isScriptElementLoaded:"se"}))}function d(t){const{details:r={},parameters:o={}}=t;if(u!==e.firstDetectInvocation)return n.Z.info("[CP] Skipping duplicate detect invocation"),Promise.resolve();const{detectSamplingRate:i,samplingRate:s}=e,l=function(e){let{adblockResult:t,options:n={},propertyId:r,samplingRate:o}=e;const{isAdblockEnabled:i,details:a}=t||{};let s;return s=!0===i?"enabled":!1===i?"disabled":"unknown",{cd1:n.dimension1,cpab:s,cpabd:a.delay,cpabid:a.instanceId,cpabst:c(!1),cpfd:c(!0),cpfm:c(!0),cppid:r,cpsr:o,ea:"cpda"}}({adblockResult:t,options:a,propertyId:e.propertyId,samplingRate:i}),d=(0,K.Z)(`${e.apiUrl}/stats`,l);let p=Promise.resolve();if(Math.random()<s){const t=function(e){return"1"===(e.navigator.doNotTrack||e.doNotTrack)}(e.window)?{...l,cpsr:i*s,ea:"cpdas"}:{...l,cpabdt:f(r),cpabeh:c(r.isElementHidden),cpabp:JSON.stringify(o),cpabsl:c(r.isScriptLoaded),cpabt:r.time,cpabtr:r.trigger,cpca:c(e.cookiesAllowed),cpsr:i*s,ea:"cpdas"};p=(0,K.Z)(`${e.apiUrl}/samples`,t)}return Promise.all([d,p])}function p(e){return d({isAdblockEnabled:null,details:e.details,parameters:e.parameters})}e.firstDetectInvocation||(e.firstDetectInvocation=u);const g=`${e.detectUrl}/ads.js?foo=bar`;n.Z.log("[CP] Operation: detect",g);const m=await(0,xe.Z)({url:g,instanceId:e.instanceId,global:e});m.onDetect(d),m.onError(p);try{const{isAdblockEnabled:e,details:t,parameters:n}=await m.start();if(await d({isAdblockEnabled:e,details:t,parameters:n}),i(o))try{o(null,{detectionTime:t.time,isAdblockEnabled:null!==e&&e})}catch(e){const t=new Error(e.message);throw t.callbackError=e,t}}catch(e){if(e.callbackError)throw e.callbackError;p(e),n.Z.warn("[CP] Error during ad block detection",e),i(o)&&o(e)}},je=async(e,t)=>{let{eventCategory:n,eventAction:r,loadTime:o,samplingRate:i}=t;s(e)&&await(0,$.ZP)({global:e,eventCategory:n,eventAction:r,loadTime:o,samplingRate:i,eventLabel:void 0,viewTime:void 0,nonInteraction:void 0,userLanguage:void 0,hasCoupon:void 0})},Me=e=>{const t=(e||[]).find((e=>e.startsWith("samplingRate=")));if(!t)return.01;const n=Number(t.split("=")[1]);return Number.isNaN(n)?.01:n};function De(e,t){const r=t.funnelConfig?.enabledProducts||[],o=Me(r),i=t.funnelConfig?.cmp||null;e.generatedSample<o&&(r.includes("cmpHealth")&&(async function(e,t,n){const r=Ae(e,t,n),o=await Te({window:e.window,timeout:2e3});if(Ze(o))return;r(Ie(o.state,o.tcfStatus,2e3));const i=await Te({window:e.window,timeout:3e3});if(Ze(i))return;r(Ie(i.state,i.tcfStatus,5e3));const a=await Te({window:e.window,timeout:5e3});if(Ze(a))return;r(Ie(a.state,a.tcfStatus,1e4))}(e,F,o),async function(e,t,r,o){try{const{cmpStatus:n,loadTime:i}=await Ue({window:e.window,cmp:t});await r(e,{eventCategory:"cmp-sampled",eventAction:n.toLowerCase(),loadTime:i,samplingRate:o})}catch(e){n.Z.error("[CP] Error in monitorCmp",e)}}(e,i,je,o)),r.includes("detect")&&Le({...e,detectSamplingRate:o},void 0,void 0))}const $e=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.Z.log("[CP] Operation: create",t,r),e.propertyId)return void n.Z.warn("[CP] Instance was already created, don't call create multiple times.");if(!t)return void n.Z.error("[CP] Missing parameter propertyId.");e.propertyId=t,e.instanceId=(0,ee.Z)();const o=u(r.apiUrl),i=u(r.baseUrl),a=u(r.cdnUrl);e.detectUrl=r.detectUrl||e.environment.detectUrl,e.apiUrl=o||i||e.environment.apiUrl,e.cdnUrl=a||i||e.environment.cdnUrl,e.reportCallbackErrors=!1,(0,te.Z)(e),e.isSpa=r.isSpa||!1,e.isWhitelabel=e.environment.isWhitelabel,e.userType=void 0,e.setTokenCookie=r.setTokenCookie||!1,e.samplingRate=void 0!==r.samplingRate?Number(r.samplingRate):.05,e.generatedSample=Math.random(),e.detectSamplingRate=1,e.cookieDomain=r.cookieDomain,e.cookiePath=r.cookiePath,e.cookiePrefix=r.cookiePrefix||"_cp",e.errorHandler=(0,oe.Z)({appName:"web-sdk",apiUrl:e.apiUrl,contentpassVersion:e.environment.contentpassVersion,window:e.window}),e.cookiesAllowed=function(e){let{cookiePrefix:t,window:r}=e;const o=`${t}${C.od}`;return"1"===O().get(o)?(n.Z.warn("[CP] User has opted out of cookie usage"),!1):!!r?.navigator?.cookieEnabled}(e),e.isAmp=r.amp||function(e){return!!M(e)&&e.cmp_isamp}(e.window),"function"==typeof r.setUserContext&&(e.setUserContext=r.setUserContext),e.fetchPropertyConfig=async function(e){const{cdnUrl:t,propertyId:r}=e;try{return await(0,k.Z)(`${t}/properties/${r}/config.json`)}catch(e){throw n.Z.error(`[CP] Could not fetch config for property ${r}`,e),e}}(e).then((t=>(!1===t?.funnelConfig?.isApproved&&n.Z.enable(),(t?.funnelConfig?.enabledProducts||[]).includes("reportCallbackErrors")&&(e.reportCallbackErrors=!0),function(e,t){if(e.isAmp)return"iframe-ssr"===t.funnelConfig?.theme&&(t.funnelConfig.theme="redesign"),void(t.funnelConfig?.enabledProducts.includes("firstLayerInIframe")&&(t.funnelConfig.enabledProducts=t.funnelConfig.enabledProducts.filter((e=>"firstLayerInIframe"!==e))));const{iframeOverwrite:n,themeOverwrite:r}=re(e,t);r&&t.funnelConfig&&(t.funnelConfig.theme=r),n&&(t.funnelConfig?.enabledProducts.includes("firstLayerInIframe")||(t.funnelConfig?.enabledProducts?t.funnelConfig?.enabledProducts?.push("firstLayerInIframe"):t.funnelConfig.enabledProducts=["firstLayerInIframe"]))}(e,t),t))),e.samplingRate&&e.generatedSample<e.samplingRate&&async function(e,t,r){const{window:o}=e,i=Ae(e,t,r);if(i("load"),!Ze(await Te({window:o})))return void n.Z.warn("[CP] __tcfapi is not available");const a=await e.fetchPropertyConfig;if(!0!==a?.funnelConfig?.cmpRendersWall)return void n.Z.info("[CP] Not logging TCF events");let c=!1;"__tcfapi"in o&&o.__tcfapi("addEventListener",2,(async(e,t)=>{function r(e){e&&o.__tcfapi("removeEventListener",2,(()=>{}),e)}t?(n.Z.info("[CP] Called event listener for logging tcf events",e),"cmpuishown"===e.eventStatus?(i("cmpuishown"),c=!0):"useractioncomplete"===e.eventStatus?(c||(n.Z.info("[CP] tcf event `cmpuishown` is called on useractioncomplete"),i("cmpuishown")),i("useractioncomplete"),r(e.listenerId)):"tcloaded"===e.eventStatus&&r(e.listenerId)):n.Z.info("[CP] Event listener for tcf events failed")}))}(e,F,e.samplingRate),e.sideEffects=e.fetchPropertyConfig.then((t=>{De(e,t),function(e,t){t.funnelConfig&&"consentmanager"===t.funnelConfig.cmp&&t.funnelConfig.cmpRendersWall&&m(e,t)&&(e.window[y]=!0)}(e,t),async function(e,t){const{funnelConfig:n}=t,r=n?.enabledProducts||[],o=n?.isApproved,i=r.includes("contentpass");!o&&i&&Y(e,t,"notApprovedWarning")}(e,t),Pe(e,t)}));const c=(0,d.PZ)(e.window);if(c)switch(n.Z.info("[CP] Found action",c),c){case"login":setTimeout((()=>W(e)),0);break;case"logout":setTimeout((()=>ke(e)),0);break;case"denyAll":setTimeout((async()=>{await Ne(e),e.window.location.reload()}),0);break;case"acceptAll":setTimeout((async()=>{await l(e),e.window.location.reload()}),0)}};const Fe=async function(e,t){n.Z.log("[CP] Registering extension",t)};const qe=function(e,t){G(e,{page:"register",...t})};var He=a(37744);function Ge(e,t){n.Z.log("[CP] Running processQueue",t);const r=e.q=e.q||[];let o;for(e.patched?n.Z.log("[CP] q.push() is already patched"):(n.Z.log("[CP] Patching q.push()"),r.push=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n.Z.log("[CP] Calling overwritten queue.push()",i);const c=Array.prototype.push.apply(r,i);return setTimeout(Ge.bind(null,e,t),0),c},e.patched=!0);o=r.shift();){const[r,...i]=[...o],[a,c]=r.split("."),s=c?a:"default",u=c||a;if(e[s]=e[s]||{instance:s,window:e.window,environment:e.environment},n.Z.log(`[CP] Operation "${s}.${u}" with parameters:`,i),u in t)try{t[u].apply(null,[e[s],...i])}catch(e){n.Z.error("[CP] Error processing the queue",e)}else n.Z.error("[CP] Unknown operation",u)}}var We=a(71938);We.Z.appName="wall";try{!function(e,t,r){const o=(0,He.Z)(e,n.Z);o&&(o.window=e,o.environment=t,n.Z.log("[CP] Processing the queueâ¦"),Ge(o,r))}(window,We.Z,e),We.Z.isWhitelabel||function(){const e=window;e.addEventListener("message",(o=>{if("REQUEST"!==o?.data?.type||"contentpass"!==o.data.protocol)return;const{action:i}=o.data;switch(i){case t.CHECK_CP_INTEGRATION:r(o,{isIntegrated:"function"==typeof e.cp&&"number"==typeof e.cp.l,isLoaded:!(!e.cp||!e.cp.patched)});break;case t.AUTHENTICATE:e.cp("authenticate",((e,t)=>{r(o,{isLoggedIn:t.isLoggedIn(),hasValidSubscription:t.hasValidSubscription()})}));break;case t.LOGIN:e.cp("goto",{page:"login"});break;case t.LOGOUT:e.cp("logout");break;default:n.Z.error("UNHANDLED MESSAGE",i)}}))}()}catch(e){n.Z.error("[CP] Error in now.js",e)}})()})();