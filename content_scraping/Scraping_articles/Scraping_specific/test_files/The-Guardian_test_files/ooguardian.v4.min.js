var ootag = {
    loadSafeFrameScripts: function () {
        let t = document.createElement("style"); t.innerText = ` .iab_sf {
         margin: auto;
        }`, document.head.appendChild(t); let e = document.createElement("script"); e.setAttribute("src", "https://cdn.optoutadvertising.com/script/sf/base.min.js"), e.setAttribute("id", "sfbase"), document.head.appendChild(e), e.onload = () => { let t = document.createElement("script"); t.setAttribute("src", "https://cdn.optoutadvertising.com/script/sf/hostOptOut.min.js"), t.setAttribute("id", "sfhost"), document.head.appendChild(t), t.onload = () => { new $sf.host.Config({ renderFile: "https://cdn.optoutadvertising.com/script/sf/r.html", onEndPosRender: function (t) { let e = ootag.slots.find(e => "safeframe-" + e.targetId == t); e && e.makeFluid && e.makeFluid(t) }, onPosMsg: function (t, e, o, n) { let i = ootag.slots.find(e => "safeframe-" + e.targetId == t); return i && i.onMessagePos && i.onMessagePos(t, e, o, n), !0 } }), ootag.sfqueue = ootag && ootag.sfqueue || [], setTimeout(function () { ootag.sfqueue.push = function () { return Array.prototype.push.apply(this, arguments), ootag.processSFQueue(), 1 }, ootag.processSFQueue() }, 0) } }
    }, initializeOo: function (t) { function e(t, e) { var o, n, i; return decodeURIComponent((o = t, (n = e) || (n = location.href), null == (i = RegExp("[\\?&]" + (o = o.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]")) + "=([^&#]*)").exec(n)) ? null : i[1].replaceAll("+", "%20"))) } if (t.noLogging || (ootag.logger = console.log), ootag.logger("initializing.."), this.publisherId = t.publisher, this.onlyExecuteOnNoConsent = t.onlyNoConsent || 0, this.consent.alwaysNoConsent = t.alwaysNoConsent || 0, ["preview", "preview1", "preview2", "preview3", "preview4", "preview5"].map(t => ({ slot: e(t), ad_id: e(t + "_ad") })).filter(t => null != t.slot && null != t.ad_id).forEach(t => this.previewAdSlots[t.slot] = t.ad_id), t.consentTimeOutMS && (ootag.consentTimeOutMS = t.consentTimeOutMS), t.noSafeFrame && (ootag.noSafeFrame = !0), t.noRequestsOnPageLoad || ("loading" !== document.readyState ? ootag.queue.push(function () { ootag.makeRequests() }) : window.addEventListener("DOMContentLoaded", t => { ootag.queue.push(function () { ootag.makeRequests() }) })), t.frequencyScript) { let o = document.createElement("iframe"); o.id = "frequencyFrame", o.src = t.frequencyScript, o.async = "true", o.style = "display:none", document.body.appendChild(o), ootag.frequencyFrameReady = !1, ootag.frequencyCapping = 5, ootag.timeoutFrequencyCappingMS = t.timeoutFrequencyCappingMS || 30, ootag.debug_forceCap = t.debug_forceCap, window.addEventListener("message", t => { if ("ready" == t.data.type) ootag.frequencyFrameReady = !0, ootag.processFrequencyMessages(); else if ("answer" == t.data.type) { if (ootag.frequencyCandidates.has(t.data.id)) { let e = ootag.frequencyCandidates.get(t.data.id).find(e => e.response.creativeId == t.data.entities.creative); if (e) try { e.placeAd() } catch (o) { ootag.logger(o) } } } else if ("emptyAnswer" == t.data.type) { let n = ootag.slots.find(e => e.id == t.data.id); if (n && "function" == typeof n.emptyCallback) try { n.emptyCallback(n) } catch (i) { ootag.logger("error in empty callback " + i) } } }) } else ootag.frequencyFrameReady = !1, ootag.processFrequencyMessages(); t.lazyLoading && (ootag.lazyLoading.disabled = !!t.lazyLoading.disabled, ootag.lazyLoading.viewPortMargin = t.lazyLoading.viewPortMargin ? t.lazyLoading.viewPortMargin : "0px 0px", ootag.lazyLoading.fractionInView = t.lazyLoading.fractionInView ? t.lazyLoading.fractionInView : .5) }, lazyLoading: { disabled: !1, viewPortMargin: "0px 0px", fractionInView: .5 }, processFrequencyMessages: function () { for (ootag.frequencyMessages.push = function () { return Array.prototype.push.apply(this, arguments), ootag.processFrequencyMessages(), 1 }; ootag.frequencyMessages.length > 0;)try { if (ootag.frequencyFrameReady) { let t = ootag.frequencyMessages.shift(); document.getElementById("frequencyFrame").contentWindow.postMessage(t, "*") } else { let e = ootag.frequencyMessages.shift(); if (ootag.frequencyCandidates.has(e.id) && e.candidates && e.candidates.length > 0) { let o = ootag.frequencyCandidates.get(e.id), n = e.candidates[0].entities; try { let i = o.find(t => t.response.creativeId == n.creative); i && i.placeAd() } catch (r) { ootag.logger(r) } } } } catch (s) { ootag.logger(s) } }, processQueue: function () { for (; ootag.queue.length > 0;)try { ootag.queue.shift()() } catch (t) { ootag.logger(t) } }, processSFQueue: function () { for (; ootag.sfqueue.length > 0;)try { ootag.sfqueue.shift()() } catch (t) { ootag.logger(t) } }, defineVideoSlot: function (t) { if (t && t.adSlot) { if (ootag.videoScript.inserted) ootag.videoScript.loaded ? this._handleVideoSlot(t) : ootag.videoScript.queue.push(t); else { ootag.videoScript.inserted = !0, ootag.logger("Inserting video ad script"), ootag.videoScript.queue.push(t); let e = document.createElement("script"); e.setAttribute("src", "https://cdn.optoutadvertising.com/script/privacy-player.min.js"), e.setAttribute("id", "adVideoPlayerScript"), document.head.appendChild(e), e.onload = () => { for (ootag.videoScript.loaded = !0, ootag.logger("Loaded video ad script"); ootag.videoScript.queue.length > 0;)try { let t = ootag.videoScript.queue.shift(); this._handleVideoSlot(t) } catch (e) { ootag.logger(e) } } } } }, _handleVideoSlot: function (t) { let e = document.getElementById(t.targetId); if (null != e) { ootag.logger("Adding video for " + t.adSlot); let o = document.createElement("div"); o.id = t.targetId + "-videoWrapper", o.style = "position:relative; margin: auto; overflow: hidden; height: 0px", t.width && (o.style.width = t.width), t["max-width"] && (o.style["max-width"] = t["max-width"]); let n = document.createElement("div"); n.id = t.targetId + "-videoPlayer", n.style = "position: relative;padding-bottom: 56.25%;height:0;", o.appendChild(n), e.appendChild(o); let i = !1, r = `https://player.optoutadserving.com/?&events=1&ooa=${t.adSlot},${ootag.publisherId}&no-ext=all&mute=1`, s = new PrivacyPlayerPro(r, n, !0, !0), a = !1; function c(t) { var e = t.getBoundingClientRect(), o = window.innerHeight || document.documentElement.clientHeight, n = window.innerWidth || document.documentElement.clientWidth, i = Math.min(Math.floor(100 - (e.top >= 0 ? 0 : e.top) / +-e.height * 100), Math.floor(100 - (e.bottom - o) / e.height * 100)); return e.top <= o && e.bottom >= 0 && e.left <= n && e.right >= 0 && (0 == e.height || i > 80) } s.ready_callback = () => { a = !0, s.mute(), c(o) && s.play() }, window.addEventListener("message", function (e) { if (-1 != e.origin.indexOf("player.optoutadserving.com")) { if ("adstart" != e.data.event || (o.style.height = "auto", c(o) || s.pause()), "vast-ad-detected" == e.data.event) { if (e.data.data) { if ("function" == typeof t.filledCallback) try { t.filledCallback(t) } catch (n) { ootag.logger("error in filled callback " + n) } } else if ("function" == typeof t.emptyCallback) try { t.emptyCallback(t) } catch (r) { ootag.logger("error in empty callback " + r) } } "adend" == e.data.event && (t.hideAfterAd && (o.style.height = "0px"), i = !0) } }), document.addEventListener("visibilitychange", () => { !i && a && ("visible" === document.visibilityState && c(o) ? s.play() : s.pause()) }), onscroll = t => { !i && a && (c(o) ? s.play() : s.pause()) } } }, defineSlot: function (t) { t && t.adSlot && !t.id && (t.id = t.adSlot), this.slots.push(t) }, undefineSlot: function (t) { this.readyForRequest = !1, this.slots = this.slots.filter(e => { if (e.id != t) return !0; { let o = document.getElementById(e.targetId); return o && (o.innerHTML = ""), !1 } }) }, undefineAllSlots: function () { this.readyForRequest = !1, this.slots.forEach(t => { let e = document.getElementById(t.targetId); e && (e.innerHTML = "") }), this.slots = [] }, makeRequests: function (t) { (t || !this.readyForRequest) && (this.readyForRequest = !0, this.getResponse(this.publisherId, this.slots)) }, refreshSlot: function (t) { let e = ootag.slots.find(e => e.id == t); e && (document.getElementById(e.targetId).innerHTML = "", this.getResponse(this.publisherId, [e])) }, refreshAllSlots: function () { this.slots.forEach(t => document.getElementById(t.targetId).innerHTML = ""), this.getResponse(this.publisherId, this.slots) }, noSafeFrame: !1, videoScript: { inserted: !1, loaded: !1, queue: [] }, readyForRequest: !1, logger: function (t) { }, customParams: {}, customParamsPerSlot: {}, slots: [], publisherId: 0, consentTimeOutMS: 500, onlyExecuteOnNoConsent: !1, consent: { alwaysNoConsent: !1, checked: !1, consentString: "", optOutConsent: !1, gdpr: 1, cookieConsent: !1 }, executeWithConsent: function (t) { if (this.consent.alwaysNoConsent || this.consent.checked && (!this.consent.cookieConsent || !this.onlyExecuteOnNoConsent)) t(this.consent); else { let e = !0, o = setTimeout(() => { e && (ootag.logger("Finding consent framework timed out"), e = !1, this.consent.checked = !0, this.executeWithConsent(t)) }, ootag.consentTimeOutMS), n = (t, e) => { if (void 0 === t.vendor || !t.vendor || void 0 === t.vendor.consents || !t.vendor.consents || !(e in t.vendor.consents) || !t.vendor.consents[e]) return !1; t.vendor.consents[e] }, i = t => { if (void 0 === t || !t || void 0 === t.purpose || !t.purpose || !t.purpose.consents) return !1; { let e = t.purpose.consents; return !(void 0 === e[1] || !1 === e[1]) } }, r = () => { if ("undefined" != typeof __tcfapi) try { __tcfapi("addEventListener", 2, (r, s) => { clearTimeout(o), void 0 !== r && r && ("tcloaded" === r.eventStatus || "useractioncomplete" === r.eventStatus) && (this.consent.optOutConsent = n(r, 227), this.consent.cookieConsent = i(r), this.consent.gdpr = void 0 === r.gdprApplies || r.gdprApplies ? 1 : 0, 0 == this.consent.gdpr && (this.consent.optOutConsent = !0), this.consent.consentString = r.tcString, e && (e = !1, this.consent.checked = !0, this.executeWithConsent(t))) }) } catch (r) { ootag.logger("error: " + r), s() } else s() }, s = () => { e && setTimeout(r, 10) }; s() } }, showAd: function (t, e, o) { if (ootag.logger("showing ad for " + t), ootag.frequencyMessages.push({ type: "impression", id: o.id }), "function" == typeof e.adShownCallback) try { e.adShownCallback(e, o) } catch (n) { ootag.logger("error in ad shown callback " + n) } let i = o.optOutExt.tags.includes("GAMBLING"); if (ootag.noSafeFrame || void 0 !== o.optOutExt && void 0 !== o.optOutExt.noSafeFrame && o.optOutExt.noSafeFrame && !i) postscribe("#" + t, o.ad); else { let r = function () { ootag.logger("Booting safeframe for" + t); let n = document.createElement("div"); n.id = "safeframe-" + t; let r = o.width, s = o.height, a = 1 == r && 1 == s; document.getElementById(t).appendChild(n); let c = "sf_pos_rel_el_"; a && (e.makeFluid = function (t) { let o = document.getElementById(t); if (o.style.visibility = "hidden", slotData.fluidProperties && slotData.fluidProperties.style) { Object.assign(o.style, e.fluidProperties.style); Object.assign(document.getElementById(c + t).style, e.fluidProperties.style) } }, e.onMessagePos = function (t, e, o, n) { if ("exp-ovr" == e) { let i = document.getElementById(t); i.width = "100%", i.height = n + "px", i.style.width = "100%", i.style.height = n + "px"; let r = document.getElementById(c + t); r.style.width = "100%"; var s = r.style.height; r.style.height = n + "px", s != r.style.height && setTimeout(function () { document.getElementById(t).style.visibility = "visible" }, 50) } }); let l = { "write-cookie": 1 }, u = a ? { id: n.id, w: 1200, h: 100, tgt: "_blank", css: "html {  min-height: 100vh; } body {  min-height: 100vh;margin:0px} div {  width: 100% }", dest: n.id, supports: l } : { id: n.id, w: Math.max(r, 5), h: Math.max(s, 5), tgt: "_blank", dest: n.id, supports: l }, d = new $sf.host.PosConfig(u), h = "", p = ""; i && (p += ootag.getExclusionButtonToSafeFrameForGambling()), a && (h = ` <script>  (${((t, e) => { addEventListener("load", o => { let n = 100, i = null, r = () => { let t = document.getElementById("contentWrapper").offsetHeight; Math.abs(n - t) > 3 && !i && (i = setTimeout(() => { let t = document.getElementById("contentWrapper").offsetHeight; n = t, $sf.ext.expand(0, t, !1), i = null }, 100)) }, s = function (t) { "geom-update" == t && r() }; $sf.ext.register(t, e, s); let a = document.getElementById("sf_align"); ResizeObserver ? new ResizeObserver(r).observe(a) : addEventListener("resize", r), a.style = "absolute; left: 0px; top: 0px;width:100%;height:auto", setTimeout(r, 100) }) }).toString()})(${r}, ${s}) </script> `); let g = new $sf.host.Position(n.id, '<div id="contentWrapper">' + o.ad + p + "</div>" + h, d); $sf.host.render(g) }; ootag.sfqueue.push(r) } }, addParameter: function (t, e) { this.customParams[t] = e + "" }, addParameterForSlot: function (t, e, o) { t in this.customParamsPerSlot || (this.customParamsPerSlot[t] = {}), this.customParamsPerSlot[t][e] = o + "" }, previewAdSlots: {}, getResponse: function (t, e) { let o = e, n = areGamblingAdsRejected(); this.executeWithConsent(e => { for (let i of o) ootag.logger("loading ad from adserver for " + i.targetId); let r = new XMLHttpRequest, s = e.optOutConsent ? "https://prebid.optinadserving.com" : "https://adserving.optoutadvertising.com", a = {}; a.publisher = t.toString(), a.url = window.location.toString(), a.gdpr = e.gdpr, a.gdpr_consent = e.consentString, a.rejections = { gambling: n }, a.sdk_version = "ootag-v2", a.frequencyCandidates = ootag.frequencyCapping, ootag.debug_forceCap && (a.debug_forceCap = ootag.debug_forceCap); let c = []; for (let l of o) { let u = {}; if (u.adSlot = l.adSlot, u.id = l.id, l.adSlot in ootag.previewAdSlots && (u.preview = ootag.previewAdSlots[l.adSlot]), l.id in ootag.customParamsPerSlot) { let d = ootag.customParamsPerSlot[l.id]; Object.keys(d).length > 0 && (u.customs = d) } c.push(u) } a.slots = c, Object.keys(ootag.customParams).length > 0 && (a.customs = ootag.customParams); let h = { root: null, rootMargin: ootag.lazyLoading.viewPortMargin, threshold: ootag.lazyLoading.fractionInView }; r.withCredentials = !0, r.open("POST", s + "/prebid/display"), r.responseType = "text", r.onload = function () { let t = new Map, e = new Map; if (200 === this.status) { ootag.frequencyCapping && !ootag.frequencyFrameReady && setTimeout(function () { ootag.processFrequencyMessages() }, ootag.timeoutFrequencyCappingMS); let n = JSON.parse(this.response); for (let i of n) { let r = ootag.slots.find(t => t.id == i.id); if (void 0 !== r) { ootag.logger("Got response for " + r.targetId), t.set(r.id, i), e.has(i.id) || e.set(i.id, []), r.lastResponse = i; let s = () => { if ("function" == typeof r.filledCallback) try { r.filledCallback(r, i) } catch (t) { ootag.logger("error in filled callback " + t) } if (ootag.lazyLoading.disabled) ootag.logger("no lazy loading, loading right away"), ootag.showAd(r.targetId, r, i); else { let e = document.getElementById(r.targetId), o = function (t, e) { t[0].intersectionRatio >= ootag.lazyLoading.fractionInView && (ootag.logger("triggering showad from lazy load thing " + t[0].target.id), ootag.showAd(t[0].target.id, r, i), e.disconnect()) }; void 0 !== r.intersectionObserver && r.intersectionObserver.disconnect(), r.intersectionObserver = new IntersectionObserver(o, h); try { r.intersectionObserver.observe(e), ootag.logger("added observer for " + r.targetId) } catch (n) { ootag.logger("failed " + r.targetId + " " + n) } } }, a = { response: i, placeAd: s }; e.get(i.id).push(a) } } } for (let c of (ootag.frequencyCandidates = e, Array.from(e.entries()).forEach(t => { let e = t[1].flatMap(t => { let e = t.response, o = e.optOutExt.frequencyCap; return o ? o.map(t => ({ entities: { agency: e.meta.agencyId, advertiser: e.meta.advertiserId, campaign: e.meta.campaignId, creative: e.creativeId }, entity: t.level.toLowerCase(), type: "question", maxFrequency: t.impresssionCap, checkDate: t.checkDate })) : [{ entities: { agency: e.meta.agencyId, advertiser: e.meta.advertiserId, campaign: e.meta.campaignId, creative: e.creativeId }, type: "question", maxFrequency: 1e4 }] }); var o = {}; o.candidates = e, o.id = t[1][0].response.id, ootag.frequencyMessages.push(o) }), o)) if (!t.has(c.id) && "function" == typeof c.emptyCallback) try { c.emptyCallback(c) } catch (l) { ootag.logger("error in empty callback " + l) } }, r.onerror = function () { }, r.send(JSON.stringify(a)) }) }, frequencyMessages: [], queue: ootag && ootag.queue || [], sfqueue: ootag && ootag.sfqueue || [], clearSlotsByTag: function (t) { ootag.slots.forEach(e => { e.lastResponse && e.lastResponse.optOutExt && e.lastResponse.optOutExt.tags.includes(t) && ootag.undefineSlot(e.id) }) }, getExclusionButtonToSafeFrameForGambling: function () {
        let t = () => { let t = (t, o, n) => { t.style.fontSize = "20px", e(t, o, n) }, e = (t, e, o) => { let n = 0; for (; t.clientWidth >= e || t.clientHeight >= o;) { let i = window.getComputedStyle(t).fontSize; if (t.style.fontSize = parseFloat(i) - 1 + "px", (n += 1) > 70) return i } }, o = () => { document.getElementById("oo-ad-choices").style.display = "block"; let t = document.getElementById("oo-choice-overlay"); t.parentNode.removeChild(t) }; (() => { if ("none" != document.getElementById("oo-ad-choices").style.display) { document.getElementById("oo-ad-choices").style.display = "none"; let e = document.createElement("button"), n = document.createElement("button"), i = document.createElement("div"); i.id = "oo-choice-overlay", i.style = "text-align:center;position:absolute;width:100%%;height:100%%;margin:0;top:0px;background-color:#252e32;overflow:auto;overflow-x:hidden;z-index:100"; let r = document.createElement("p"); r.style = "color:rgba(150,150,150,1); margin:10px", r.innerHTML = "Door op 'Weiger gok reclames' te drukken zul je op deze site geen gok reclames meer te zien krijgen. Je keuze wordt door je browser opgeslagen in een functionele cookie die uitsluitend deze keus bevat. Deze cookie maakt het technisch mogelijk om aan jouw keus te voldoen.", e.style = "font-family:Roboto;color:white;width:100px;height:30px;border-radius:8px;background-color:rgba(20,20,20,1);margin:5px;cursor:pointer", n.style = "font-family:Roboto;color:white;width:100px;height:30px;border-radius:8px;background-color:#0091ea;margin:5px;cursor:pointer", n.innerHTML = "annuleren", n.onclick = function () { o() }; let s = document.createElement("div"); s.innerHTML = "Weiger gok reclames", e.appendChild(s), e.id = "oo-choice-button", e.onclick = function () { $sf.ext.register(100, 100, function () { }), $sf.ext.cookie("rejectGambling", "yes"); let e = document.getElementById("oo-choice-button"); return e.disabled = !0, s.innerHTML = "Keus opgeslagen", t(s, 100, 15), e.style.backgroundColor = "rgba(150,150,150,1)", !1 }, i.appendChild(r), i.appendChild(e), i.appendChild(n), document.getElementById("oo-ad-choices").parentElement.appendChild(i), t(s, 100, 15) } })() }, e = `<script>const OOTAG_rejectButton = ${t.toString()};</script>`; return e + `<span id="oo-ad-choices" class="ob-ad-choices" onclick="OOTAG_rejectButton()"
                        style="width: 30px;height: 30px;left:4px;background-size:cover;top:4px;cursor:pointer;z-index:1000000;position:absolute;background-color:rgba(120,120,120,0.0);border-color:BLACK;border:1px;border-style:solid">
                        <div id="oo-info-icon">
                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">
                                <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
                                fill="#03ADFC" stroke="none">
                                <path d="M2460 5113 c-916 -38 -1741 -563 -2165 -1376 -195 -374 -287 -751
                                -287 -1177 0 -597 185 -1128 561 -1605 77 -98 310 -328 411 -407 363 -280 759
                                -449 1215 -520 202 -31 531 -31 734 1 548 84 1020 317 1410 696 219 213 379
                                431 511 700 129 263 195 470 241 765 32 202 32 541 0 740 -73 456 -242 851
                                -519 1209 -78 102 -308 335 -407 413 -448 352 -965 543 -1520 560 -66 2 -149
                                3 -185 1z m298 -543 c468 -50 895 -254 1227 -585 787 -788 787 -2061 -1 -2849
                                -161 -161 -364 -305 -559 -396 -782 -367 -1679 -212 -2288 393 -167 166 -297
                                351 -401 567 -367 768 -208 1680 398 2286 430 429 1034 647 1624 584z"/>
                                <path d="M2968 3423 l-408 -408 -403 403 c-222 221 -405 402 -408 402 -2 0
                                -105 -101 -229 -225 l-224 -224 404 -406 405 -405 -408 -408 -407 -407 227
                                -228 228 -227 407 407 408 408 408 -408 407 -407 228 227 227 228 -407 407
                                -408 408 408 408 407 407 -228 228 -227 227 -407 -407z"/>
                                </g>
                            </svg>
                        </div>
                    </span>`}
}; function rejectGambling() { var t = new Date; t.setDate(t.getDate() + 1e4), document.cookie = "rejectGambling=true; expires=" + t.toUTCString() + ";path=/", ootag.clearSlotsByTag("GAMBLING") } function areGamblingAdsRejected() { return !!function t(e) { let o = `; ${document.cookie}`, n = o.split(`; ${e}=`); if (2 === n.length) return n.pop().split(";").shift() }("rejectGambling") } ootag.loadSafeFrameScripts(), ootag.queue.push = function () { return Array.prototype.push.apply(this, arguments), ootag.processQueue(), 1 }, ootag.processQueue(), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.postscribe = e() : t.postscribe = e() }(this, function () { return function (t) { function e(n) { if (o[n]) return o[n].exports; var i = o[n] = { exports: {}, id: n, loaded: !1 }; return t[n].call(i.exports, i, i.exports, e), i.loaded = !0, i.exports } var o = {}; return e.m = t, e.c = o, e.p = "", e(0) }([function (t, e, o) { "use strict"; var n, i = (n = o(1)) && n.__esModule ? n : { default: n }; t.exports = i.default }, function (t, e, o) { "use strict"; function n() { } function i() { var t = p.shift(); if (t) { var e = u.last(t); e.afterDequeue(), t.stream = r.apply(void 0, t), e.afterStreamStart() } } function r(t, e, o) { function r(t) { t = o.beforeWrite(t), g.write(t), o.afterWrite(t) } (g = new l.default(t, o)).id = h++, g.name = o.name || g.id, s.streams[g.name] = g; var a = t.ownerDocument, u = { close: a.close, open: a.open, write: a.write, writeln: a.writeln }; c(a, { close: n, open: n, write: function () { for (var t = arguments.length, e = Array(t), o = 0; o < t; o++)e[o] = arguments[o]; return r(e.join("")) }, writeln: function () { for (var t = arguments.length, e = Array(t), o = 0; o < t; o++)e[o] = arguments[o]; return r(e.join("") + "\n") } }); var d = g.win.onerror || n; return g.win.onerror = function (t, e, n) { o.error({ msg: t + " - " + e + ": " + n }), d.apply(g.win, [t, e, n]) }, g.write(e, function () { c(a, u), g.win.onerror = d, o.done(), g = null, i() }), g } function s(t, e, o) { if (u.isFunction(o)) o = { done: o }; else if ("clear" === o) return p = [], g = null, void (h = 0); o = u.defaults(o, d); var r = [t = /^#/.test(t) ? window.document.getElementById(t.substr(1)) : t.jquery ? t[0] : t, e, o]; return t.postscribe = { cancel: function () { r.stream ? r.stream.abort() : r[1] = n } }, o.beforeEnqueue(r), p.push(r), g || i(), t.postscribe } e.__esModule = !0; var a, c = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var o = arguments[e]; for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n]) } return t }; e.default = s; var l = (a = o(2)) && a.__esModule ? a : { default: a }, u = function t(e) { if (e && e.__esModule) return e; var o = {}; if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (o[n] = e[n]); return o.default = e, o }(o(4)), d = { afterAsync: n, afterDequeue: n, afterStreamStart: n, afterWrite: n, autoFix: !0, beforeEnqueue: n, beforeWriteToken: function (t) { return t }, beforeWrite: function (t) { return t }, done: n, error: function (t) { throw Error(t.msg) }, releaseAsync: !1 }, h = 0, p = [], g = null; c(s, { streams: {}, queue: p, WriteStream: l.default }) }, function (t, e, o) { "use strict"; function n(t, e) { var o = t.getAttribute(l + e); return c.existy(o) ? String(o) : o } function i(t, e) { var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = l + e; c.existy(o) && "" !== o ? t.setAttribute(n, o) : t.removeAttribute(n) } e.__esModule = !0; var r, s = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var o = arguments[e]; for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n]) } return t }, a = (r = o(3)) && r.__esModule ? r : { default: r }, c = function t(e) { if (e && e.__esModule) return e; var o = {}; if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (o[n] = e[n]); return o.default = e, o }(o(4)), l = "data-ps-", u = "ps-style", d = "ps-script", h = function () { function t(e) { var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; (function t(e, o) { if (!(e instanceof o)) throw TypeError("Cannot call a class as a function") })(this, t), this.root = e, this.options = o, this.doc = e.ownerDocument, this.win = this.doc.defaultView || this.doc.parentWindow, this.parser = new a.default("", { autoFix: o.autoFix }), this.actuals = [e], this.proxyHistory = "", this.proxyRoot = this.doc.createElement(e.nodeName), this.scriptStack = [], this.writeQueue = [], i(this.proxyRoot, "proxyof", 0) } return t.prototype.write = function () { var t; for ((t = this.writeQueue).push.apply(t, arguments); !this.deferredRemote && this.writeQueue.length;) { var e = this.writeQueue.shift(); c.isFunction(e) ? this._callFunction(e) : this._writeImpl(e) } }, t.prototype._callFunction = function (t) { var e = { type: "function", value: t.name || t.toString() }; this._onScriptStart(e), t.call(this.win, this.doc), this._onScriptDone(e) }, t.prototype._writeImpl = function (t) { this.parser.append(t); for (var e = void 0, o = void 0, n = void 0, i = []; (e = this.parser.readToken()) && !(o = c.isScript(e)) && !(n = c.isStyle(e));)(e = this.options.beforeWriteToken(e)) && i.push(e); i.length > 0 && this._writeStaticTokens(i), o && this._handleScriptToken(e), n && this._handleStyleToken(e) }, t.prototype._writeStaticTokens = function (t) { var e = this._buildChunk(t); return e.actual ? (e.html = this.proxyHistory + e.actual, this.proxyHistory += e.proxy, this.proxyRoot.innerHTML = e.html, this._walkChunk(), e) : null }, t.prototype._buildChunk = function (t) { for (var e = this.actuals.length, o = [], n = [], i = [], r = t.length, s = 0; s < r; s++) { var a = t[s], c = a.toString(); if (o.push(c), a.attrs) { if (!/^noscript$/i.test(a.tagName)) { var h = e++; n.push(c.replace(/(\/?>)/, " " + l + "id=" + h + " $1")), a.attrs.id !== d && a.attrs.id !== u && i.push("atomicTag" === a.type ? "" : "<" + a.tagName + " " + l + "proxyof=" + h + (a.unary ? " />" : ">")) } } else n.push(c), i.push("endTag" === a.type ? c : "") } return { tokens: t, raw: o.join(""), actual: n.join(""), proxy: i.join("") } }, t.prototype._walkChunk = function () { for (var t = void 0, e = [this.proxyRoot]; c.existy(t = e.shift());) { var o = 1 === t.nodeType; if (!(o && n(t, "proxyof"))) { o && (this.actuals[n(t, "id")] = t, i(t, "id")); var r = t.parentNode && n(t.parentNode, "proxyof"); r && this.actuals[r].appendChild(t) } e.unshift.apply(e, c.toArray(t.childNodes)) } }, t.prototype._handleScriptToken = function (t) { var e = this, o = this.parser.clear(); o && this.writeQueue.unshift(o), t.src = t.attrs.src || t.attrs.SRC, (t = this.options.beforeWriteToken(t)) && (t.src && this.scriptStack.length ? this.deferredRemote = t : this._onScriptStart(t), this._writeScriptToken(t, function () { e._onScriptDone(t) })) }, t.prototype._handleStyleToken = function (t) { var e = this.parser.clear(); e && this.writeQueue.unshift(e), t.type = t.attrs.type || t.attrs.TYPE || "text/css", (t = this.options.beforeWriteToken(t)) && this._writeStyleToken(t), e && this.write() }, t.prototype._writeStyleToken = function (t) { var e = this._buildStyle(t); this._insertCursor(e, u), t.content && (e.styleSheet && !e.sheet ? e.styleSheet.cssText = t.content : e.appendChild(this.doc.createTextNode(t.content))) }, t.prototype._buildStyle = function (t) { var e = this.doc.createElement(t.tagName); return e.setAttribute("type", t.type), c.eachKey(t.attrs, function (t, o) { e.setAttribute(t, o) }), e }, t.prototype._insertCursor = function (t, e) { this._writeImpl('<span id="' + e + '"/>'); var o = this.doc.getElementById(e); o && o.parentNode.replaceChild(t, o) }, t.prototype._onScriptStart = function (t) { t.outerWrites = this.writeQueue, this.writeQueue = [], this.scriptStack.unshift(t) }, t.prototype._onScriptDone = function (t) { return t !== this.scriptStack[0] ? void this.options.error({ msg: "Bad script nesting or script finished twice" }) : (this.scriptStack.shift(), this.write.apply(this, t.outerWrites), void (!this.scriptStack.length && this.deferredRemote && (this._onScriptStart(this.deferredRemote), this.deferredRemote = null))) }, t.prototype._writeScriptToken = function (t, e) { var o = this._buildScript(t), n = this._shouldRelease(o), i = this.options.afterAsync; t.src && (o.src = t.src, this._scriptLoadHandler(o, n ? i : function () { e(), i() })); try { this._insertCursor(o, d), o.src && !n || e() } catch (r) { this.options.error(r), e() } }, t.prototype._buildScript = function (t) { var e = this.doc.createElement(t.tagName); return c.eachKey(t.attrs, function (t, o) { e.setAttribute(t, o) }), t.content && (e.text = t.content), e }, t.prototype._scriptLoadHandler = function (t, e) { function o() { t = t.onload = t.onreadystatechange = t.onerror = null } function n() { o(), null != e && e(), e = null } function i(t) { o(), a(t), null != e && e(), e = null } function r(t, e) { var o = t["on" + e]; null != o && (t["_on" + e] = o) } var a = this.options.error; r(t, "load"), r(t, "error"), s(t, { onload: function () { if (t._onload) try { t._onload.apply(this, Array.prototype.slice.call(arguments, 0)) } catch (e) { i({ msg: "onload handler failed " + e + " @ " + t.src }) } n() }, onerror: function () { if (t._onerror) try { t._onerror.apply(this, Array.prototype.slice.call(arguments, 0)) } catch (e) { return void i({ msg: "onerror handler failed " + e + " @ " + t.src }) } i({ msg: "remote script failed " + t.src }) }, onreadystatechange: function () { /^(loaded|complete)$/.test(t.readyState) && n() } }) }, t.prototype._shouldRelease = function (t) { return !/^script$/i.test(t.nodeName) || !!(this.options.releaseAsync && t.src && t.hasAttribute("async")) }, t }(); e.default = h }, function (t, e, o) { var n, i; i = function () { return function (t) { function e(n) { if (o[n]) return o[n].exports; var i = o[n] = { exports: {}, id: n, loaded: !1 }; return t[n].call(i.exports, i, i.exports, e), i.loaded = !0, i.exports } var o = {}; return e.m = t, e.c = o, e.p = "", e(0) }([function (t, e, o) { "use strict"; var n, i = (n = o(1)) && n.__esModule ? n : { default: n }; t.exports = i.default }, function (t, e, o) { "use strict"; function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e.default = t, e } e.__esModule = !0; var i, r = o(2), s = n(r), a = o(3), c = n(a), l = (i = o(6)) && i.__esModule ? i : { default: i }, u = o(5), d = { comment: /^<!--/, endTag: /^<\//, atomicTag: /^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i, startTag: /^</, chars: /^[^<]/ }, h = function () { function t() { var e = this, o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; (function t(e, o) { if (!(e instanceof o)) throw TypeError("Cannot call a class as a function") })(this, t), this.stream = o; var i = !1, r = {}; for (var a in s) s.hasOwnProperty(a) && (n.autoFix && (r[a + "Fix"] = !0), i = i || r[a + "Fix"]); i ? (this._readToken = (0, l.default)(this, r, function () { return e._readTokenImpl() }), this._peekToken = (0, l.default)(this, r, function () { return e._peekTokenImpl() })) : (this._readToken = this._readTokenImpl, this._peekToken = this._peekTokenImpl) } return t.prototype.append = function (t) { this.stream += t }, t.prototype.prepend = function (t) { this.stream = t + this.stream }, t.prototype._readTokenImpl = function () { var t = this._peekTokenImpl(); if (t) return this.stream = this.stream.slice(t.length), t }, t.prototype._peekTokenImpl = function () { for (var t in d) if (d.hasOwnProperty(t) && d[t].test(this.stream)) { var e = c[t](this.stream); if (e) return "startTag" === e.type && /script|style/i.test(e.tagName) ? null : (e.text = this.stream.substr(0, e.length), e) } }, t.prototype.peekToken = function () { return this._peekToken() }, t.prototype.readToken = function () { return this._readToken() }, t.prototype.readTokens = function (t) { for (var e = void 0; e = this.readToken();)if (t[e.type] && !1 === t[e.type](e)) return }, t.prototype.clear = function () { var t = this.stream; return this.stream = "", t }, t.prototype.rest = function () { return this.stream }, t }(); for (var p in e.default = h, h.tokenToString = function (t) { return t.toString() }, h.escapeAttributes = function (t) { var e = {}; for (var o in t) t.hasOwnProperty(o) && (e[o] = (0, u.escapeQuotes)(t[o], null)); return e }, h.supports = s, s) s.hasOwnProperty(p) && (h.browserHasFlaw = h.browserHasFlaw || !s[p] && p) }, function (t, e) { "use strict"; e.__esModule = !0; var o = !1, n = !1, i = window.document.createElement("div"); try { var r = "<P><I></P></I>"; i.innerHTML = r, e.tagSoup = o = i.innerHTML !== r } catch (s) { e.tagSoup = o = !1 } try { i.innerHTML = "<P><i><P></P></i></P>", e.selfClose = n = 2 === i.childNodes.length } catch (a) { e.selfClose = n = !1 } i = null, e.tagSoup = o, e.selfClose = n }, function (t, e, o) { "use strict"; function n(t) { if (-1 !== t.indexOf(">")) { var e = t.match(s.startTag); if (e) { var o, n, a, c = (o = {}, n = {}, a = e[2], e[2].replace(s.attr, function (t, e) { arguments[2] || arguments[3] || arguments[4] || arguments[5] ? arguments[5] ? (o[arguments[5]] = "", n[arguments[5]] = !0) : o[e] = arguments[2] || arguments[3] || arguments[4] || s.fillAttr.test(e) && e || "" : o[e] = "", a = a.replace(t, "") }), { v: new r.StartTagToken(e[1], e[0].length, o, n, !!e[3], a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")) }); if ("object" === (void 0 === c ? "undefined" : i(c))) return c.v } } } e.__esModule = !0; var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; e.comment = function t(e) { var o = e.indexOf("-->"); if (o >= 0) return new r.CommentToken(e.substr(4, o - 1), o + 3) }, e.chars = function t(e) { var o = e.indexOf("<"); return new r.CharsToken(o >= 0 ? o : e.length) }, e.startTag = n, e.atomicTag = function t(e) { var o = n(e); if (o) { var i = e.slice(o.length); if (i.match(RegExp("</\\s*" + o.tagName + "\\s*>", "i"))) { var s = i.match(RegExp("([\\s\\S]*?)</\\s*" + o.tagName + "\\s*>", "i")); if (s) return new r.AtomicTagToken(o.tagName, s[0].length + o.length, o.attrs, o.booleanAttrs, s[1]) } } }, e.endTag = function t(e) { var o = e.match(s.endTag); if (o) return new r.EndTagToken(o[1], o[0].length) }; var r = o(4), s = { startTag: /^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/, endTag: /^<\/([\-A-Za-z0-9_]+)[^>]*>/, attr: /(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g, fillAttr: /^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i } }, function (t, e, o) { "use strict"; function n(t, e) { if (!(t instanceof e)) throw TypeError("Cannot call a class as a function") } e.__esModule = !0, e.EndTagToken = e.AtomicTagToken = e.StartTagToken = e.TagToken = e.CharsToken = e.CommentToken = e.Token = void 0; var i = o(5), r = (e.Token = function t(e, o) { n(this, t), this.type = e, this.length = o, this.text = "" }, e.CommentToken = function () { function t(e, o) { n(this, t), this.type = "comment", this.length = o || (e ? e.length : 0), this.text = "", this.content = e } return t.prototype.toString = function () { return "<!--" + this.content }, t }(), e.CharsToken = function () { function t(e) { n(this, t), this.type = "chars", this.length = e, this.text = "" } return t.prototype.toString = function () { return this.text }, t }(), e.TagToken = function () { function t(e, o, i, r, s) { n(this, t), this.type = e, this.length = i, this.text = "", this.tagName = o, this.attrs = r, this.booleanAttrs = s, this.unary = !1, this.html5Unary = !1 } return t.formatTag = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, o = "<" + t.tagName; for (var n in t.attrs) if (t.attrs.hasOwnProperty(n)) { o += " " + n; var r = t.attrs[n]; void 0 !== t.booleanAttrs && void 0 !== t.booleanAttrs[n] || (o += '="' + (0, i.escapeQuotes)(r) + '"') } return t.rest && (o += " " + t.rest), o += t.unary && !t.html5Unary ? "/>" : ">", null != e && (o += e + "</" + t.tagName + ">"), o }, t }()); e.StartTagToken = function () { function t(e, o, i, r, s, a) { n(this, t), this.type = "startTag", this.length = o, this.text = "", this.tagName = e, this.attrs = i, this.booleanAttrs = r, this.html5Unary = !1, this.unary = s, this.rest = a } return t.prototype.toString = function () { return r.formatTag(this) }, t }(), e.AtomicTagToken = function () { function t(e, o, i, r, s) { n(this, t), this.type = "atomicTag", this.length = o, this.text = "", this.tagName = e, this.attrs = i, this.booleanAttrs = r, this.unary = !1, this.html5Unary = !1, this.content = s } return t.prototype.toString = function () { return r.formatTag(this, this.content) }, t }(), e.EndTagToken = function () { function t(e, o) { n(this, t), this.type = "endTag", this.length = o, this.text = "", this.tagName = e } return t.prototype.toString = function () { return "</" + this.tagName + ">" }, t }() }, function (t, e) { "use strict"; e.__esModule = !0, e.escapeQuotes = function t(e) { var o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""; return e ? e.replace(/([^"]*)"/g, function (t, e) { return /\\/.test(e) ? e + '"' : e + '\\"' }) : o } }, function (t, e) { "use strict"; function o(t) { return t && "startTag" === t.type && (t.unary = i.test(t.tagName) || t.unary, t.html5Unary = !/\/>$/.test(t.text)), t } function n(t, e) { var o = e.pop(); t.prepend("</" + o.tagName + ">") } e.__esModule = !0, e.default = function t(e, i, s) { function a() { var t, n, i, r, a = (t = e, n = s, i = t.stream, r = o(n()), t.stream = i, r); a && u[a.type] && u[a.type](a) } var c, l = ((c = []).last = function () { return this[this.length - 1] }, c.lastTagNameEq = function (t) { var e = this.last(); return e && e.tagName && e.tagName.toUpperCase() === t.toUpperCase() }, c.containsTagName = function (t) { for (var e, o = 0; e = this[o]; o++)if (e.tagName === t) return !0; return !1 }, c), u = { startTag: function (t) { var o = t.tagName; "TR" === o.toUpperCase() && l.lastTagNameEq("TABLE") ? (e.prepend("<TBODY>"), a()) : i.selfCloseFix && r.test(o) && l.containsTagName(o) ? l.lastTagNameEq(o) ? n(e, l) : (e.prepend("</" + t.tagName + ">"), a()) : t.unary || l.push(t) }, endTag: function (t) { l.last() ? i.tagSoupFix && !l.lastTagNameEq(t.tagName) ? n(e, l) : l.pop() : i.tagSoupFix && (s(), a()) } }; return function () { return a(), o(s()) } }; var i = /^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i, r = /^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i }]) }, t.exports = i() }, function (t, e) { "use strict"; function o(t) { return null != t } function n(t, e, o) { var n = void 0, i = t && t.length || 0; for (n = 0; n < i; n++)e.call(o, t[n], n) } function i(t, e, o) { for (var n in t) t.hasOwnProperty(n) && e.call(o, n, t[n]) } function r(t, e) { return !(!t || "startTag" !== t.type && "atomicTag" !== t.type || !("tagName" in t)) && !!~t.tagName.toLowerCase().indexOf(e) } e.__esModule = !0; var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; e.existy = o, e.isFunction = function t(e) { return "function" == typeof e }, e.each = n, e.eachKey = i, e.defaults = function t(e, n) { return e = e || {}, i(n, function (t, n) { o(e[t]) || (e[t] = n) }), e }, e.toArray = function t(e) { try { return Array.prototype.slice.call(e) } catch (o) { var i, r = (i = [], n(e, function (t) { i.push(t) }), { v: i }); if ("object" === (void 0 === r ? "undefined" : s(r))) return r.v } }, e.last = function t(e) { return e[e.length - 1] }, e.isTag = r, e.isScript = function t(e) { return r(e, "script") }, e.isStyle = function t(e) { return r(e, "style") } }]) }), void 0 === window.IntersectionObserver && function (t, e) { "use strict"; var o = []; function n(t) { this.time = t.time, this.target = t.target, this.rootBounds = t.rootBounds, this.boundingClientRect = t.boundingClientRect, this.intersectionRect = t.intersectionRect || { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 }; try { this.isIntersecting = !!t.intersectionRect } catch (e) { } var o = this.boundingClientRect, n = o.width * o.height, i = this.intersectionRect, r = i.width * i.height; this.intersectionRatio = n ? Number((r / n).toFixed(4)) : this.isIntersecting ? 1 : 0 } function i(t, e) { var o, n, i, r = e || {}; if ("function" != typeof t) throw Error("callback must be a function"); if (r.root && 1 != r.root.nodeType) throw Error("root must be an Element"); this._checkForIntersections = (o = this._checkForIntersections.bind(this), n = this.THROTTLE_TIMEOUT, i = null, function () { i || (i = setTimeout(function () { o(), i = null }, n)) }), this._callback = t, this._observationTargets = [], this._queuedEntries = [], this._rootMarginValues = this._parseRootMargin(r.rootMargin), this.thresholds = this._initThresholds(r.threshold), this.root = r.root || null, this.rootMargin = this._rootMarginValues.map(function (t) { return t.value + t.unit }).join(" ") } function r(t, e, o, n) { "function" == typeof t.addEventListener ? t.addEventListener(e, o, n || !1) : "function" == typeof t.attachEvent && t.attachEvent("on" + e, o) } function s(t, e, o, n) { "function" == typeof t.removeEventListener ? t.removeEventListener(e, o, n || !1) : "function" == typeof t.detatchEvent && t.detatchEvent("on" + e, o) } function a(t) { var e; try { e = t.getBoundingClientRect() } catch (o) { } return e ? (e.width && e.height || (e = { top: e.top, right: e.right, bottom: e.bottom, left: e.left, width: e.right - e.left, height: e.bottom - e.top }), e) : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 } } function c(t, e) { for (var o = e; o;) { if (o == t) return !0; o = l(o) } return !1 } function l(t) { var e = t.parentNode; return e && 11 == e.nodeType && e.host ? e.host : e && e.assignedSlot ? e.assignedSlot.parentNode : e } i.prototype.THROTTLE_TIMEOUT = 100, i.prototype.POLL_INTERVAL = null, i.prototype.USE_MUTATION_OBSERVER = !0, i.prototype.observe = function (t) { if (!this._observationTargets.some(function (e) { return e.element == t })) { if (!t || 1 != t.nodeType) throw Error("target must be an Element"); this._registerInstance(), this._observationTargets.push({ element: t, entry: null }), this._monitorIntersections(), this._checkForIntersections() } }, i.prototype.unobserve = function (t) { this._observationTargets = this._observationTargets.filter(function (e) { return e.element != t }), this._observationTargets.length || (this._unmonitorIntersections(), this._unregisterInstance()) }, i.prototype.disconnect = function () { this._observationTargets = [], this._unmonitorIntersections(), this._unregisterInstance() }, i.prototype.takeRecords = function () { var t = this._queuedEntries.slice(); return this._queuedEntries = [], t }, i.prototype._initThresholds = function (t) { var e = t || [0]; return Array.isArray(e) || (e = [e]), e.sort().filter(function (t, e, o) { if ("number" != typeof t || isNaN(t) || t < 0 || t > 1) throw Error("threshold must be a number between 0 and 1 inclusively"); return t !== o[e - 1] }) }, i.prototype._parseRootMargin = function (t) { var e = (t || "0px").split(/\s+/).map(function (t) { var e = /^(-?\d*\.?\d+)(px|%)$/.exec(t); if (!e) throw Error("rootMargin must be specified in pixels or percent"); return { value: parseFloat(e[1]), unit: e[2] } }); return e[1] = e[1] || e[0], e[2] = e[2] || e[0], e[3] = e[3] || e[1], e }, i.prototype._monitorIntersections = function () { this._monitoringIntersections || (this._monitoringIntersections = !0, this.POLL_INTERVAL ? this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL) : (r(t, "resize", this._checkForIntersections, !0), r(e, "scroll", this._checkForIntersections, !0), this.USE_MUTATION_OBSERVER && "MutationObserver" in t && (this._domObserver = new MutationObserver(this._checkForIntersections), this._domObserver.observe(e, { attributes: !0, childList: !0, characterData: !0, subtree: !0 })))) }, i.prototype._unmonitorIntersections = function () { this._monitoringIntersections && (this._monitoringIntersections = !1, clearInterval(this._monitoringInterval), this._monitoringInterval = null, s(t, "resize", this._checkForIntersections, !0), s(e, "scroll", this._checkForIntersections, !0), this._domObserver && (this._domObserver.disconnect(), this._domObserver = null)) }, i.prototype._checkForIntersections = function () { var e = this._rootIsInDom(), o = e ? this._getRootRect() : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 }; this._observationTargets.forEach(function (i) { var r = i.element, s = a(r), c = this._rootContainsTarget(r), l = i.entry, u = e && c && this._computeTargetAndRootIntersection(r, o), d = i.entry = new n({ time: t.performance && performance.now && performance.now(), target: r, boundingClientRect: s, rootBounds: o, intersectionRect: u }); l ? e && c ? this._hasCrossedThreshold(l, d) && this._queuedEntries.push(d) : l && l.isIntersecting && this._queuedEntries.push(d) : this._queuedEntries.push(d) }, this), this._queuedEntries.length && this._callback(this.takeRecords(), this) }, i.prototype._computeTargetAndRootIntersection = function (o, n) { if ("none" != t.getComputedStyle(o).display) { for (var i, r, s, c, u, d, h, p, g = a(o), f = l(o), y = !1; !y;) { var $ = null, m = 1 == f.nodeType ? t.getComputedStyle(f) : {}; if ("none" == m.display) return; if (f == this.root || f == e ? (y = !0, $ = n) : f != e.body && f != e.documentElement && "visible" != m.overflow && ($ = a(f)), $ && (i = $, r = g, s = void 0, c = void 0, u = void 0, d = void 0, h = void 0, p = void 0, s = Math.max(i.top, r.top), c = Math.min(i.bottom, r.bottom), u = Math.max(i.left, r.left), d = Math.min(i.right, r.right), p = c - s, !(g = (h = d - u) >= 0 && p >= 0 && { top: s, bottom: c, left: u, right: d, width: h, height: p }))) break; f = l(f) } return g } }, i.prototype._getRootRect = function () { var t; if (this.root) t = a(this.root); else { var o = e.documentElement, n = e.body; t = { top: 0, left: 0, right: o.clientWidth || n.clientWidth, width: o.clientWidth || n.clientWidth, bottom: o.clientHeight || n.clientHeight, height: o.clientHeight || n.clientHeight } } return this._expandRectByRootMargin(t) }, i.prototype._expandRectByRootMargin = function (t) { var e = this._rootMarginValues.map(function (e, o) { return "px" == e.unit ? e.value : e.value * (o % 2 ? t.width : t.height) / 100 }), o = { top: t.top - e[0], right: t.right + e[1], bottom: t.bottom + e[2], left: t.left - e[3] }; return o.width = o.right - o.left, o.height = o.bottom - o.top, o }, i.prototype._hasCrossedThreshold = function (t, e) { var o = t && t.isIntersecting ? t.intersectionRatio || 0 : -1, n = e.isIntersecting ? e.intersectionRatio || 0 : -1; if (o !== n) for (var i = 0; i < this.thresholds.length; i++) { var r = this.thresholds[i]; if (r == o || r == n || r < o != r < n) return !0 } }, i.prototype._rootIsInDom = function () { return !this.root || c(e, this.root) }, i.prototype._rootContainsTarget = function (t) { return c(this.root || e, t) }, i.prototype._registerInstance = function () { 0 > o.indexOf(this) && o.push(this) }, i.prototype._unregisterInstance = function () { var t = o.indexOf(this); -1 != t && o.splice(t, 1) }, t.IntersectionObserver = i, t.IntersectionObserverEntry = n }(window, document);